2025-12-09T09:14:52.4101054Z Current runner version: '2.329.0'
2025-12-09T09:14:52.4123540Z ##[group]Runner Image Provisioner
2025-12-09T09:14:52.4124423Z Hosted Compute Agent
2025-12-09T09:14:52.4124979Z Version: 20251124.448
2025-12-09T09:14:52.4125598Z Commit: fda5086b43ec66ade217e5fcd18146c879571177
2025-12-09T09:14:52.4126253Z Build Date: 2025-11-24T21:16:26Z
2025-12-09T09:14:52.4126920Z ##[endgroup]
2025-12-09T09:14:52.4127450Z ##[group]Operating System
2025-12-09T09:14:52.4128009Z Ubuntu
2025-12-09T09:14:52.4128535Z 24.04.3
2025-12-09T09:14:52.4129020Z LTS
2025-12-09T09:14:52.4129675Z ##[endgroup]
2025-12-09T09:14:52.4130241Z ##[group]Runner Image
2025-12-09T09:14:52.4130841Z Image: ubuntu-24.04
2025-12-09T09:14:52.4131332Z Version: 20251126.144.1
2025-12-09T09:14:52.4132426Z Included Software: https://github.com/actions/runner-images/blob/ubuntu24/20251126.144/images/ubuntu/Ubuntu2404-Readme.md
2025-12-09T09:14:52.4133948Z Image Release: https://github.com/actions/runner-images/releases/tag/ubuntu24%2F20251126.144
2025-12-09T09:14:52.4135051Z ##[endgroup]
2025-12-09T09:14:52.4136084Z ##[group]GITHUB_TOKEN Permissions
2025-12-09T09:14:52.4137935Z Contents: read
2025-12-09T09:14:52.4138531Z Metadata: read
2025-12-09T09:14:52.4139024Z Packages: read
2025-12-09T09:14:52.4139761Z ##[endgroup]
2025-12-09T09:14:52.4141773Z Secret source: Actions
2025-12-09T09:14:52.4142513Z Prepare workflow directory
2025-12-09T09:14:52.4454988Z Prepare all required actions
2025-12-09T09:14:52.4491544Z Getting action download info
2025-12-09T09:14:52.9403614Z Download action repository 'actions/checkout@v4' (SHA:34e114876b0b11c390a56381ad16ebd13914f8d5)
2025-12-09T09:14:53.5006482Z Download action repository 'actions/setup-node@v4' (SHA:49933ea5288caeca8642d1e84afbd3f7d6820020)
2025-12-09T09:14:53.6301089Z Download action repository 'actions/setup-python@v5' (SHA:a26af69be951a213d495a4c3e4e4022e16d87065)
2025-12-09T09:14:53.8184707Z Complete job name: Test
2025-12-09T09:14:53.8889804Z ##[group]Run actions/checkout@v4
2025-12-09T09:14:53.8890718Z with:
2025-12-09T09:14:53.8891177Z   repository: m2ux/concept-rag
2025-12-09T09:14:53.8891855Z   token: ***
2025-12-09T09:14:53.8892275Z   ssh-strict: true
2025-12-09T09:14:53.8892695Z   ssh-user: git
2025-12-09T09:14:53.8893130Z   persist-credentials: true
2025-12-09T09:14:53.8893610Z   clean: true
2025-12-09T09:14:53.8894049Z   sparse-checkout-cone-mode: true
2025-12-09T09:14:53.8894669Z   fetch-depth: 1
2025-12-09T09:14:53.8895105Z   fetch-tags: false
2025-12-09T09:14:53.8895538Z   show-progress: true
2025-12-09T09:14:53.8895971Z   lfs: false
2025-12-09T09:14:53.8896366Z   submodules: false
2025-12-09T09:14:53.8896805Z   set-safe-directory: true
2025-12-09T09:14:53.8897527Z ##[endgroup]
2025-12-09T09:14:53.9956208Z Syncing repository: m2ux/concept-rag
2025-12-09T09:14:53.9957982Z ##[group]Getting Git version info
2025-12-09T09:14:53.9958771Z Working directory is '/home/runner/work/concept-rag/concept-rag'
2025-12-09T09:14:53.9960086Z [command]/usr/bin/git version
2025-12-09T09:14:54.0049725Z git version 2.52.0
2025-12-09T09:14:54.0075390Z ##[endgroup]
2025-12-09T09:14:54.0089053Z Temporarily overriding HOME='/home/runner/work/_temp/00b90fa9-9798-4925-99c9-8dd38a546f2c' before making global git config changes
2025-12-09T09:14:54.0090746Z Adding repository directory to the temporary git global config as a safe directory
2025-12-09T09:14:54.0094501Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/concept-rag/concept-rag
2025-12-09T09:14:54.0133095Z Deleting the contents of '/home/runner/work/concept-rag/concept-rag'
2025-12-09T09:14:54.0136342Z ##[group]Initializing the repository
2025-12-09T09:14:54.0140500Z [command]/usr/bin/git init /home/runner/work/concept-rag/concept-rag
2025-12-09T09:14:54.0253885Z hint: Using 'master' as the name for the initial branch. This default branch name
2025-12-09T09:14:54.0255722Z hint: will change to "main" in Git 3.0. To configure the initial branch name
2025-12-09T09:14:54.0257498Z hint: to use in all of your new repositories, which will suppress this warning,
2025-12-09T09:14:54.0259036Z hint: call:
2025-12-09T09:14:54.0259923Z hint:
2025-12-09T09:14:54.0260520Z hint: 	git config --global init.defaultBranch <name>
2025-12-09T09:14:54.0261142Z hint:
2025-12-09T09:14:54.0261727Z hint: Names commonly chosen instead of 'master' are 'main', 'trunk' and
2025-12-09T09:14:54.0262711Z hint: 'development'. The just-created branch can be renamed via this command:
2025-12-09T09:14:54.0263496Z hint:
2025-12-09T09:14:54.0264186Z hint: 	git branch -m <name>
2025-12-09T09:14:54.0264902Z hint:
2025-12-09T09:14:54.0265534Z hint: Disable this message with "git config set advice.defaultBranchName false"
2025-12-09T09:14:54.0266728Z Initialized empty Git repository in /home/runner/work/concept-rag/concept-rag/.git/
2025-12-09T09:14:54.0269108Z [command]/usr/bin/git remote add origin https://github.com/m2ux/concept-rag
2025-12-09T09:14:54.0301859Z ##[endgroup]
2025-12-09T09:14:54.0302649Z ##[group]Disabling automatic garbage collection
2025-12-09T09:14:54.0305461Z [command]/usr/bin/git config --local gc.auto 0
2025-12-09T09:14:54.0332583Z ##[endgroup]
2025-12-09T09:14:54.0333305Z ##[group]Setting up auth
2025-12-09T09:14:54.0338896Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-12-09T09:14:54.0367463Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-12-09T09:14:54.0721609Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-12-09T09:14:54.0748307Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-12-09T09:14:54.0967320Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2025-12-09T09:14:54.0995241Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2025-12-09T09:14:54.1213677Z [command]/usr/bin/git config --local http.https://github.com/.extraheader AUTHORIZATION: basic ***
2025-12-09T09:14:54.1245530Z ##[endgroup]
2025-12-09T09:14:54.1246530Z ##[group]Fetching the repository
2025-12-09T09:14:54.1253610Z [command]/usr/bin/git -c protocol.version=2 fetch --no-tags --prune --no-recurse-submodules --depth=1 origin +d9a9e3ed3672284a77c2d2ef8aa73e8f29a9471b:refs/remotes/pull/38/merge
2025-12-09T09:14:54.6972044Z From https://github.com/m2ux/concept-rag
2025-12-09T09:14:54.6975146Z  * [new ref]         d9a9e3ed3672284a77c2d2ef8aa73e8f29a9471b -> pull/38/merge
2025-12-09T09:14:54.7006057Z ##[endgroup]
2025-12-09T09:14:54.7007827Z ##[group]Determining the checkout info
2025-12-09T09:14:54.7010088Z ##[endgroup]
2025-12-09T09:14:54.7014252Z [command]/usr/bin/git sparse-checkout disable
2025-12-09T09:14:54.7057722Z [command]/usr/bin/git config --local --unset-all extensions.worktreeConfig
2025-12-09T09:14:54.7085618Z ##[group]Checking out the ref
2025-12-09T09:14:54.7088010Z [command]/usr/bin/git checkout --progress --force refs/remotes/pull/38/merge
2025-12-09T09:14:54.7397976Z Note: switching to 'refs/remotes/pull/38/merge'.
2025-12-09T09:14:54.7399315Z 
2025-12-09T09:14:54.7400456Z You are in 'detached HEAD' state. You can look around, make experimental
2025-12-09T09:14:54.7402521Z changes and commit them, and you can discard any commits you make in this
2025-12-09T09:14:54.7404515Z state without impacting any branches by switching back to a branch.
2025-12-09T09:14:54.7406138Z 
2025-12-09T09:14:54.7406784Z If you want to create a new branch to retain commits you create, you may
2025-12-09T09:14:54.7408257Z do so (now or later) by using -c with the switch command. Example:
2025-12-09T09:14:54.7409197Z 
2025-12-09T09:14:54.7409747Z   git switch -c <new-branch-name>
2025-12-09T09:14:54.7410414Z 
2025-12-09T09:14:54.7410733Z Or undo this operation with:
2025-12-09T09:14:54.7411284Z 
2025-12-09T09:14:54.7411790Z   git switch -
2025-12-09T09:14:54.7412239Z 
2025-12-09T09:14:54.7413046Z Turn off this advice by setting config variable advice.detachedHead to false
2025-12-09T09:14:54.7414303Z 
2025-12-09T09:14:54.7415816Z HEAD is now at d9a9e3e Merge 54fc8f544262fab7535c3372c2b6d47532531ccb into d3c4ef9b8064435c8a3ff9649aae28ebc1d8efd0
2025-12-09T09:14:54.7420380Z ##[endgroup]
2025-12-09T09:14:54.7441829Z [command]/usr/bin/git log -1 --format=%H
2025-12-09T09:14:54.7463840Z d9a9e3ed3672284a77c2d2ef8aa73e8f29a9471b
2025-12-09T09:14:54.7774116Z ##[group]Run actions/setup-node@v4
2025-12-09T09:14:54.7775222Z with:
2025-12-09T09:14:54.7776029Z   node-version-file: .nvmrc
2025-12-09T09:14:54.7777026Z   cache: npm
2025-12-09T09:14:54.7777841Z   always-auth: false
2025-12-09T09:14:54.7778750Z   check-latest: false
2025-12-09T09:14:54.7780079Z   token: ***
2025-12-09T09:14:54.7780887Z ##[endgroup]
2025-12-09T09:14:54.9469676Z Resolved .nvmrc as 22
2025-12-09T09:14:54.9871491Z Found in cache @ /opt/hostedtoolcache/node/22.21.1/x64
2025-12-09T09:14:54.9877757Z ##[group]Environment details
2025-12-09T09:15:03.4186463Z node: v22.21.1
2025-12-09T09:15:03.4186963Z npm: 10.9.4
2025-12-09T09:15:03.4188614Z yarn: 1.22.22
2025-12-09T09:15:03.4190604Z ##[endgroup]
2025-12-09T09:15:03.4213202Z [command]/opt/hostedtoolcache/node/22.21.1/x64/bin/npm config get cache
2025-12-09T09:15:04.2212495Z /home/runner/.npm
2025-12-09T09:15:04.5158977Z Cache hit for: node-cache-Linux-x64-npm-cfbbe8653cc67c54fbb142f4491aaa116b19a97b61d0a681e878e1f11d1de17f
2025-12-09T09:15:05.7954140Z Received 4194304 of 123985448 (3.4%), 4.0 MBs/sec
2025-12-09T09:15:06.7954365Z Received 121634816 of 123985448 (98.1%), 58.0 MBs/sec
2025-12-09T09:15:06.9404233Z Received 123985448 of 123985448 (100.0%), 55.1 MBs/sec
2025-12-09T09:15:06.9405402Z Cache Size: ~118 MB (123985448 B)
2025-12-09T09:15:06.9440142Z [command]/usr/bin/tar -xf /home/runner/work/_temp/933a6c92-36e4-41ce-b26c-c27b1df02418/cache.tzst -P -C /home/runner/work/concept-rag/concept-rag --use-compress-program unzstd
2025-12-09T09:15:07.2223920Z Cache restored successfully
2025-12-09T09:15:07.2465151Z Cache restored from key: node-cache-Linux-x64-npm-cfbbe8653cc67c54fbb142f4491aaa116b19a97b61d0a681e878e1f11d1de17f
2025-12-09T09:15:07.2651688Z ##[group]Run actions/setup-python@v5
2025-12-09T09:15:07.2651996Z with:
2025-12-09T09:15:07.2652192Z   python-version: 3.11
2025-12-09T09:15:07.2652408Z   cache: pip
2025-12-09T09:15:07.2652599Z   check-latest: false
2025-12-09T09:15:07.2652930Z   token: ***
2025-12-09T09:15:07.2653128Z   update-environment: true
2025-12-09T09:15:07.2653368Z   allow-prereleases: false
2025-12-09T09:15:07.2653585Z   freethreaded: false
2025-12-09T09:15:07.2653798Z ##[endgroup]
2025-12-09T09:15:07.4273761Z ##[group]Installed versions
2025-12-09T09:15:07.4423605Z Successfully set up CPython (3.11.14)
2025-12-09T09:15:07.4424123Z ##[endgroup]
2025-12-09T09:15:07.5221285Z [command]/opt/hostedtoolcache/Python/3.11.14/x64/bin/pip cache dir
2025-12-09T09:15:08.9185723Z /home/runner/.cache/pip
2025-12-09T09:15:09.2525144Z pip cache is not found
2025-12-09T09:15:09.2650758Z ##[group]Run npm ci
2025-12-09T09:15:09.2651050Z [36;1mnpm ci[0m
2025-12-09T09:15:09.2694864Z shell: /usr/bin/bash -e {0}
2025-12-09T09:15:09.2695108Z env:
2025-12-09T09:15:09.2695367Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:15:09.2695786Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.14/x64/lib/pkgconfig
2025-12-09T09:15:09.2696188Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:15:09.2696544Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:15:09.2696897Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:15:09.2697244Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.14/x64/lib
2025-12-09T09:15:09.2697546Z ##[endgroup]
2025-12-09T09:15:15.4809068Z npm warn deprecated osenv@0.1.5: This package is no longer supported.
2025-12-09T09:15:15.4849592Z npm warn deprecated inflight@1.0.6: This module is not supported, and leaks memory. Do not use it. Check out lru-cache if you want a good and tested way to coalesce async requests by a key value, which is much more comprehensive and powerful.
2025-12-09T09:15:15.5303615Z npm warn deprecated rimraf@2.7.1: Rimraf versions prior to v4 are no longer supported
2025-12-09T09:15:15.5507727Z npm warn deprecated npmlog@4.1.2: This package is no longer supported.
2025-12-09T09:15:15.6077115Z npm warn deprecated are-we-there-yet@1.1.7: This package is no longer supported.
2025-12-09T09:15:15.6191047Z npm warn deprecated glob@7.2.3: Glob versions prior to v9 are no longer supported
2025-12-09T09:15:15.8016178Z npm warn deprecated gauge@2.7.4: This package is no longer supported.
2025-12-09T09:15:15.9362992Z npm warn deprecated node-pre-gyp@0.10.3: Please upgrade to @mapbox/node-pre-gyp: the non-scoped node-pre-gyp package is deprecated and only the @mapbox scoped package will recieve updates in the future
2025-12-09T09:15:59.3597495Z 
2025-12-09T09:15:59.3599813Z > concept-rag@1.0.0 prepare
2025-12-09T09:15:59.3600347Z > npm run build
2025-12-09T09:15:59.3600552Z 
2025-12-09T09:15:59.4634764Z 
2025-12-09T09:15:59.4635510Z > concept-rag@1.0.0 build
2025-12-09T09:15:59.4636310Z > tsc -p tsconfig.build.json && shx chmod +x dist/*.js
2025-12-09T09:15:59.4636730Z 
2025-12-09T09:16:02.8839898Z 
2025-12-09T09:16:02.8840696Z added 386 packages, and audited 387 packages in 54s
2025-12-09T09:16:02.8841524Z 
2025-12-09T09:16:02.8842246Z 84 packages are looking for funding
2025-12-09T09:16:02.8842744Z   run `npm fund` for details
2025-12-09T09:16:02.8997164Z 
2025-12-09T09:16:02.8997695Z 13 vulnerabilities (1 low, 8 moderate, 3 high, 1 critical)
2025-12-09T09:16:02.8998110Z 
2025-12-09T09:16:02.8998473Z To address issues that do not require attention, run:
2025-12-09T09:16:02.8998998Z   npm audit fix
2025-12-09T09:16:02.8999204Z 
2025-12-09T09:16:02.8999753Z To address all issues (including breaking changes), run:
2025-12-09T09:16:02.9000463Z   npm audit fix --force
2025-12-09T09:16:02.9000700Z 
2025-12-09T09:16:02.9000932Z Run `npm audit` for details.
2025-12-09T09:16:02.9792835Z ##[group]Run pip install -r requirements.txt
2025-12-09T09:16:02.9793232Z [36;1mpip install -r requirements.txt[0m
2025-12-09T09:16:02.9793717Z [36;1mpython -c "import nltk; nltk.download('wordnet', quiet=True); nltk.download('omw-1.4', quiet=True)"[0m
2025-12-09T09:16:02.9826783Z shell: /usr/bin/bash -e {0}
2025-12-09T09:16:02.9827032Z env:
2025-12-09T09:16:02.9827293Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:02.9827719Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.14/x64/lib/pkgconfig
2025-12-09T09:16:02.9828134Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:02.9828501Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:02.9828861Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:02.9829259Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.14/x64/lib
2025-12-09T09:16:02.9829754Z ##[endgroup]
2025-12-09T09:16:04.2573524Z Collecting nltk>=3.8 (from -r requirements.txt (line 3))
2025-12-09T09:16:04.3188703Z   Downloading nltk-3.9.2-py3-none-any.whl.metadata (3.2 kB)
2025-12-09T09:16:04.3433339Z Collecting click (from nltk>=3.8->-r requirements.txt (line 3))
2025-12-09T09:16:04.3463976Z   Downloading click-8.3.1-py3-none-any.whl.metadata (2.6 kB)
2025-12-09T09:16:04.3688493Z Collecting joblib (from nltk>=3.8->-r requirements.txt (line 3))
2025-12-09T09:16:04.3730039Z   Downloading joblib-1.5.2-py3-none-any.whl.metadata (5.6 kB)
2025-12-09T09:16:04.7261866Z Collecting regex>=2021.8.3 (from nltk>=3.8->-r requirements.txt (line 3))
2025-12-09T09:16:04.7300902Z   Downloading regex-2025.11.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl.metadata (40 kB)
2025-12-09T09:16:04.7733825Z Collecting tqdm (from nltk>=3.8->-r requirements.txt (line 3))
2025-12-09T09:16:04.7766324Z   Downloading tqdm-4.67.1-py3-none-any.whl.metadata (57 kB)
2025-12-09T09:16:04.7940087Z Downloading nltk-3.9.2-py3-none-any.whl (1.5 MB)
2025-12-09T09:16:04.8241046Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 1.5/1.5 MB 73.1 MB/s  0:00:00
2025-12-09T09:16:04.8270863Z Downloading regex-2025.11.3-cp311-cp311-manylinux2014_x86_64.manylinux_2_17_x86_64.manylinux_2_28_x86_64.whl (800 kB)
2025-12-09T09:16:04.8367621Z    ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 800.4/800.4 kB 94.1 MB/s  0:00:00
2025-12-09T09:16:04.8396522Z Downloading click-8.3.1-py3-none-any.whl (108 kB)
2025-12-09T09:16:04.8456813Z Downloading joblib-1.5.2-py3-none-any.whl (308 kB)
2025-12-09T09:16:04.8524696Z Downloading tqdm-4.67.1-py3-none-any.whl (78 kB)
2025-12-09T09:16:04.9077228Z Installing collected packages: tqdm, regex, joblib, click, nltk
2025-12-09T09:16:06.0915661Z 
2025-12-09T09:16:06.0926866Z Successfully installed click-8.3.1 joblib-1.5.2 nltk-3.9.2 regex-2025.11.3 tqdm-4.67.1
2025-12-09T09:16:07.0973761Z ##[group]Run npm run build
2025-12-09T09:16:07.0974265Z [36;1mnpm run build[0m
2025-12-09T09:16:07.1022053Z shell: /usr/bin/bash -e {0}
2025-12-09T09:16:07.1022463Z env:
2025-12-09T09:16:07.1022886Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:07.1023577Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.14/x64/lib/pkgconfig
2025-12-09T09:16:07.1024288Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:07.1024931Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:07.1025571Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:07.1026226Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.14/x64/lib
2025-12-09T09:16:07.1026811Z ##[endgroup]
2025-12-09T09:16:07.1995883Z 
2025-12-09T09:16:07.1996192Z > concept-rag@1.0.0 build
2025-12-09T09:16:07.1996661Z > tsc -p tsconfig.build.json && shx chmod +x dist/*.js
2025-12-09T09:16:07.1996937Z 
2025-12-09T09:16:10.5674964Z ##[group]Run npm test
2025-12-09T09:16:10.5675483Z [36;1mnpm test[0m
2025-12-09T09:16:10.5720137Z shell: /usr/bin/bash -e {0}
2025-12-09T09:16:10.5720392Z env:
2025-12-09T09:16:10.5720673Z   pythonLocation: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:10.5721097Z   PKG_CONFIG_PATH: /opt/hostedtoolcache/Python/3.11.14/x64/lib/pkgconfig
2025-12-09T09:16:10.5721534Z   Python_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:10.5721900Z   Python2_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:10.5722265Z   Python3_ROOT_DIR: /opt/hostedtoolcache/Python/3.11.14/x64
2025-12-09T09:16:10.5722626Z   LD_LIBRARY_PATH: /opt/hostedtoolcache/Python/3.11.14/x64/lib
2025-12-09T09:16:10.5722929Z ##[endgroup]
2025-12-09T09:16:10.6731147Z 
2025-12-09T09:16:10.6731783Z > concept-rag@1.0.0 test
2025-12-09T09:16:10.6732210Z > vitest run
2025-12-09T09:16:10.6732337Z 
2025-12-09T09:16:10.9595655Z 
2025-12-09T09:16:10.9598018Z [1m[46m RUN [49m[22m [36mv4.0.9 [39m[90m/home/runner/work/concept-rag/concept-rag[39m
2025-12-09T09:16:10.9598394Z 
2025-12-09T09:16:11.2724690Z  [32m✓[39m src/infrastructure/search/__tests__/scoring-strategies.test.ts [2m([22m[2m53 tests[22m[2m)[22m[32m 16[2mms[22m[39m
2025-12-09T09:16:11.2879028Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould initialize cache with categories from repository
2025-12-09T09:16:11.2882424Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.2882796Z 
2025-12-09T09:16:11.2887329Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould initialize cache with categories from repository
2025-12-09T09:16:11.2888888Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.2889753Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.2890235Z    - Categories: 1
2025-12-09T09:16:11.2890595Z    - Aliases: 2
2025-12-09T09:16:11.2890918Z    - Memory: 0 KB
2025-12-09T09:16:11.2891123Z 
2025-12-09T09:16:11.2892818Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould handle case-insensitive name lookups
2025-12-09T09:16:11.2919209Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.2920370Z 
2025-12-09T09:16:11.3190123Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould handle case-insensitive name lookups
2025-12-09T09:16:11.3192289Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3193350Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3194173Z    - Categories: 1
2025-12-09T09:16:11.3194811Z    - Aliases: 0
2025-12-09T09:16:11.3195464Z    - Memory: 0 KB
2025-12-09T09:16:11.3196011Z 
2025-12-09T09:16:11.3197797Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould build alias mappings
2025-12-09T09:16:11.3199735Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3200387Z 
2025-12-09T09:16:11.3202024Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould build alias mappings
2025-12-09T09:16:11.3203600Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3204458Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3205092Z    - Categories: 1
2025-12-09T09:16:11.3205574Z    - Aliases: 2
2025-12-09T09:16:11.3206055Z    - Memory: 0 KB
2025-12-09T09:16:11.3206384Z 
2025-12-09T09:16:11.3226562Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould build hierarchy mappings
2025-12-09T09:16:11.3228834Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3229347Z 
2025-12-09T09:16:11.3231195Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould build hierarchy mappings
2025-12-09T09:16:11.3232903Z [22m[39m  📊 Loading 2 categories into cache...
2025-12-09T09:16:11.3233751Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3234336Z    - Categories: 2
2025-12-09T09:16:11.3234857Z    - Aliases: 0
2025-12-09T09:16:11.3235351Z    - Memory: 1 KB
2025-12-09T09:16:11.3235963Z 
2025-12-09T09:16:11.3237599Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould handle empty categories array
2025-12-09T09:16:11.3239249Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3240150Z 
2025-12-09T09:16:11.3241858Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2minitialize[2m > [22m[2mshould handle empty categories array
2025-12-09T09:16:11.3243721Z [22m[39m  📊 Loading 0 categories into cache...
2025-12-09T09:16:11.3244596Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3245185Z    - Categories: 0
2025-12-09T09:16:11.3245680Z    - Aliases: 0
2025-12-09T09:16:11.3246196Z    - Memory: 0 KB
2025-12-09T09:16:11.3246591Z 
2025-12-09T09:16:11.3248635Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetId and getName[2m > [22m[2mshould return ID for existing category name
2025-12-09T09:16:11.3251052Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3251622Z 
2025-12-09T09:16:11.3253377Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetId and getName[2m > [22m[2mshould return ID for existing category name
2025-12-09T09:16:11.3255036Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3255847Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3256469Z    - Categories: 1
2025-12-09T09:16:11.3256962Z    - Aliases: 0
2025-12-09T09:16:11.3257761Z    - Memory: 0 KB
2025-12-09T09:16:11.3258119Z 
2025-12-09T09:16:11.3268868Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetId and getName[2m > [22m[2mshould return undefined for non-existent category
2025-12-09T09:16:11.3270653Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3271009Z 
2025-12-09T09:16:11.3272678Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetId and getName[2m > [22m[2mshould return undefined for non-existent category
2025-12-09T09:16:11.3274230Z [22m[39m  📊 Loading 0 categories into cache...
2025-12-09T09:16:11.3274921Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3275385Z    - Categories: 0
2025-12-09T09:16:11.3275746Z    - Aliases: 0
2025-12-09T09:16:11.3276076Z    - Memory: 0 KB
2025-12-09T09:16:11.3276289Z 
2025-12-09T09:16:11.3277873Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetId and getName[2m > [22m[2mshould return name for existing category ID
2025-12-09T09:16:11.3279321Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3279902Z 
2025-12-09T09:16:11.3281434Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetId and getName[2m > [22m[2mshould return name for existing category ID
2025-12-09T09:16:11.3282963Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3283665Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3284108Z    - Categories: 1
2025-12-09T09:16:11.3284485Z    - Aliases: 0
2025-12-09T09:16:11.3284844Z    - Memory: 0 KB
2025-12-09T09:16:11.3285061Z 
2025-12-09T09:16:11.3287024Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIds and getNames[2m > [22m[2mshould return IDs for multiple category names
2025-12-09T09:16:11.3288621Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3288956Z 
2025-12-09T09:16:11.3290696Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIds and getNames[2m > [22m[2mshould return IDs for multiple category names
2025-12-09T09:16:11.3292331Z [22m[39m  📊 Loading 2 categories into cache...
2025-12-09T09:16:11.3293066Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3293560Z    - Categories: 2
2025-12-09T09:16:11.3293945Z    - Aliases: 0
2025-12-09T09:16:11.3294299Z    - Memory: 1 KB
2025-12-09T09:16:11.3294526Z 
2025-12-09T09:16:11.3295658Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIds and getNames[2m > [22m[2mshould filter out undefined entries
2025-12-09T09:16:11.3297161Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3297505Z 
2025-12-09T09:16:11.3299050Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIds and getNames[2m > [22m[2mshould filter out undefined entries
2025-12-09T09:16:11.3300660Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3301296Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3301723Z    - Categories: 1
2025-12-09T09:16:11.3302062Z    - Aliases: 0
2025-12-09T09:16:11.3302389Z    - Memory: 0 KB
2025-12-09T09:16:11.3302582Z 
2025-12-09T09:16:11.3304232Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIds and getNames[2m > [22m[2mshould return names for multiple category IDs
2025-12-09T09:16:11.3305669Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3306018Z 
2025-12-09T09:16:11.3307605Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIds and getNames[2m > [22m[2mshould return names for multiple category IDs
2025-12-09T09:16:11.3309273Z [22m[39m  📊 Loading 2 categories into cache...
2025-12-09T09:16:11.3310116Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3310539Z    - Categories: 2
2025-12-09T09:16:11.3310886Z    - Aliases: 0
2025-12-09T09:16:11.3311233Z    - Memory: 1 KB
2025-12-09T09:16:11.3311453Z 
2025-12-09T09:16:11.3312972Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIdByAlias[2m > [22m[2mshould return ID for existing alias
2025-12-09T09:16:11.3314403Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3314738Z 
2025-12-09T09:16:11.3316243Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIdByAlias[2m > [22m[2mshould return ID for existing alias
2025-12-09T09:16:11.3317673Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3318332Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3318752Z    - Categories: 1
2025-12-09T09:16:11.3319099Z    - Aliases: 2
2025-12-09T09:16:11.3319636Z    - Memory: 0 KB
2025-12-09T09:16:11.3319871Z 
2025-12-09T09:16:11.3321467Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIdByAlias[2m > [22m[2mshould handle case-insensitive alias lookups
2025-12-09T09:16:11.3322924Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3323253Z 
2025-12-09T09:16:11.3324773Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIdByAlias[2m > [22m[2mshould handle case-insensitive alias lookups
2025-12-09T09:16:11.3326397Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3327064Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3327496Z    - Categories: 1
2025-12-09T09:16:11.3327843Z    - Aliases: 1
2025-12-09T09:16:11.3328186Z    - Memory: 0 KB
2025-12-09T09:16:11.3328386Z 
2025-12-09T09:16:11.3330137Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIdByAlias[2m > [22m[2mshould return undefined for non-existent alias
2025-12-09T09:16:11.3331600Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3331957Z 
2025-12-09T09:16:11.3333536Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetIdByAlias[2m > [22m[2mshould return undefined for non-existent alias
2025-12-09T09:16:11.3335055Z [22m[39m  📊 Loading 0 categories into cache...
2025-12-09T09:16:11.3335706Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3336143Z    - Categories: 0
2025-12-09T09:16:11.3336503Z    - Aliases: 0
2025-12-09T09:16:11.3336832Z    - Memory: 0 KB
2025-12-09T09:16:11.3337027Z 
2025-12-09T09:16:11.3338553Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetMetadata[2m > [22m[2mshould return category metadata
2025-12-09T09:16:11.3340133Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3340471Z 
2025-12-09T09:16:11.3342258Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetMetadata[2m > [22m[2mshould return category metadata
2025-12-09T09:16:11.3343634Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3344264Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3344675Z    - Categories: 1
2025-12-09T09:16:11.3345008Z    - Aliases: 1
2025-12-09T09:16:11.3345335Z    - Memory: 0 KB
2025-12-09T09:16:11.3345540Z 
2025-12-09T09:16:11.3347105Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetMetadata[2m > [22m[2mshould return undefined for non-existent category
2025-12-09T09:16:11.3348575Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3349140Z 
2025-12-09T09:16:11.3350950Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetMetadata[2m > [22m[2mshould return undefined for non-existent category
2025-12-09T09:16:11.3352415Z [22m[39m  📊 Loading 0 categories into cache...
2025-12-09T09:16:11.3353042Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3353452Z    - Categories: 0
2025-12-09T09:16:11.3353782Z    - Aliases: 0
2025-12-09T09:16:11.3354096Z    - Memory: 0 KB
2025-12-09T09:16:11.3354287Z 
2025-12-09T09:16:11.3355714Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetChildren[2m > [22m[2mshould return child category IDs
2025-12-09T09:16:11.3357114Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3357444Z 
2025-12-09T09:16:11.3358889Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetChildren[2m > [22m[2mshould return child category IDs
2025-12-09T09:16:11.3360553Z [22m[39m  📊 Loading 3 categories into cache...
2025-12-09T09:16:11.3388165Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3388622Z    - Categories: 3
2025-12-09T09:16:11.3388976Z    - Aliases: 0
2025-12-09T09:16:11.3389316Z    - Memory: 1 KB
2025-12-09T09:16:11.3389730Z 
2025-12-09T09:16:11.3391401Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetChildren[2m > [22m[2mshould return empty array for category with no children
2025-12-09T09:16:11.3392863Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3393194Z 
2025-12-09T09:16:11.3395055Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetChildren[2m > [22m[2mshould return empty array for category with no children
2025-12-09T09:16:11.3396550Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3397195Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3397620Z    - Categories: 1
2025-12-09T09:16:11.3397956Z    - Aliases: 0
2025-12-09T09:16:11.3398284Z    - Memory: 0 KB
2025-12-09T09:16:11.3398482Z 
2025-12-09T09:16:11.3447408Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetHierarchyPath[2m > [22m[2mshould return path from root to category
2025-12-09T09:16:11.3449059Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3449612Z 
2025-12-09T09:16:11.3451174Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetHierarchyPath[2m > [22m[2mshould return path from root to category
2025-12-09T09:16:11.3452781Z [22m[39m  📊 Loading 3 categories into cache...
2025-12-09T09:16:11.3453509Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3453990Z    - Categories: 3
2025-12-09T09:16:11.3454391Z    - Aliases: 0
2025-12-09T09:16:11.3454741Z    - Memory: 1 KB
2025-12-09T09:16:11.3454965Z 
2025-12-09T09:16:11.3456708Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetHierarchyPath[2m > [22m[2mshould return single-element path for root category
2025-12-09T09:16:11.3458267Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3458611Z 
2025-12-09T09:16:11.3460447Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetHierarchyPath[2m > [22m[2mshould return single-element path for root category
2025-12-09T09:16:11.3461960Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3462639Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3463361Z    - Categories: 1
2025-12-09T09:16:11.3463934Z    - Aliases: 0
2025-12-09T09:16:11.3464289Z    - Memory: 0 KB
2025-12-09T09:16:11.3464501Z 
2025-12-09T09:16:11.3466581Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2msearchByName[2m > [22m[2mshould search categories by name
2025-12-09T09:16:11.3468082Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3468425Z 
2025-12-09T09:16:11.3470031Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2msearchByName[2m > [22m[2mshould search categories by name
2025-12-09T09:16:11.3471405Z [22m[39m  📊 Loading 2 categories into cache...
2025-12-09T09:16:11.3471988Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3472374Z    - Categories: 2
2025-12-09T09:16:11.3472696Z    - Aliases: 0
2025-12-09T09:16:11.3473003Z    - Memory: 1 KB
2025-12-09T09:16:11.3473195Z 
2025-12-09T09:16:11.3474585Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2msearchByName[2m > [22m[2mshould search by description
2025-12-09T09:16:11.3475942Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3476252Z 
2025-12-09T09:16:11.3477627Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2msearchByName[2m > [22m[2mshould search by description
2025-12-09T09:16:11.3479132Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3479966Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3480371Z    - Categories: 1
2025-12-09T09:16:11.3480720Z    - Aliases: 0
2025-12-09T09:16:11.3481065Z    - Memory: 0 KB
2025-12-09T09:16:11.3481280Z 
2025-12-09T09:16:11.3482926Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2msearchByName[2m > [22m[2mshould search by aliases
2025-12-09T09:16:11.3484342Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3484693Z 
2025-12-09T09:16:11.3486112Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2msearchByName[2m > [22m[2mshould search by aliases
2025-12-09T09:16:11.3487564Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3488257Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3488712Z    - Categories: 1
2025-12-09T09:16:11.3489065Z    - Aliases: 2
2025-12-09T09:16:11.3489812Z    - Memory: 0 KB
2025-12-09T09:16:11.3490050Z 
2025-12-09T09:16:11.3491624Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetTopCategories[2m > [22m[2mshould return top categories by document count
2025-12-09T09:16:11.3493175Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3493541Z 
2025-12-09T09:16:11.3495163Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetTopCategories[2m > [22m[2mshould return top categories by document count
2025-12-09T09:16:11.3496687Z [22m[39m  📊 Loading 3 categories into cache...
2025-12-09T09:16:11.3497378Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3497814Z    - Categories: 3
2025-12-09T09:16:11.3498169Z    - Aliases: 0
2025-12-09T09:16:11.3498515Z    - Memory: 1 KB
2025-12-09T09:16:11.3498729Z 
2025-12-09T09:16:11.3500341Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetStats[2m > [22m[2mshould return cache statistics
2025-12-09T09:16:11.3501747Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3502110Z 
2025-12-09T09:16:11.3503544Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mgetStats[2m > [22m[2mshould return cache statistics
2025-12-09T09:16:11.3505026Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3505672Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3506077Z    - Categories: 1
2025-12-09T09:16:11.3506692Z    - Aliases: 2
2025-12-09T09:16:11.3507032Z    - Memory: 0 KB
2025-12-09T09:16:11.3507234Z 
2025-12-09T09:16:11.3508631Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mclear[2m > [22m[2mshould clear all cache data
2025-12-09T09:16:11.3510195Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:16:11.3510546Z 
2025-12-09T09:16:11.3511932Z [90mstdout[2m | src/infrastructure/cache/__tests__/category-id-cache.test.ts[2m > [22m[2mCategoryIdCache[2m > [22m[2mclear[2m > [22m[2mshould clear all cache data
2025-12-09T09:16:11.3513328Z [22m[39m  📊 Loading 1 categories into cache...
2025-12-09T09:16:11.3514009Z ✅ CategoryIdCache initialized:
2025-12-09T09:16:11.3514446Z    - Categories: 1
2025-12-09T09:16:11.3514814Z    - Aliases: 0
2025-12-09T09:16:11.3515151Z    - Memory: 0 KB
2025-12-09T09:16:11.3515363Z 
2025-12-09T09:16:11.3516352Z  [32m✓[39m src/infrastructure/cache/__tests__/category-id-cache.test.ts [2m([22m[2m27 tests[22m[2m)[22m[32m 33[2mms[22m[39m
2025-12-09T09:16:11.3899563Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould extract and normalize terms from query
2025-12-09T09:16:11.3904672Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:11.3905074Z 
2025-12-09T09:16:11.3906737Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould extract and normalize terms from query
2025-12-09T09:16:11.3908325Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:11.3908722Z 
2025-12-09T09:16:11.6072225Z  [32m✓[39m src/infrastructure/resilience/__tests__/circuit-breaker.test.ts [2m([22m[2m33 tests[22m[2m)[22m[32m 72[2mms[22m[39m
2025-12-09T09:16:11.8792037Z  [32m✓[39m src/infrastructure/resilience/__tests__/bulkhead.test.ts [2m([22m[2m36 tests[22m[2m)[22m[32m 67[2mms[22m[39m
2025-12-09T09:16:12.1076432Z [90mstderr[2m | src/__tests__/integration/mcp-tools-integration.test.ts[2m > [22m[2mMCP Tools End-to-End Integration Tests
2025-12-09T09:16:12.1079345Z [22m[39m⚠️  Test database not found at ./db/test
2025-12-09T09:16:12.1083531Z    Run: ./scripts/seed-test-database.sh
2025-12-09T09:16:12.1083888Z 
2025-12-09T09:16:12.1177226Z  [32m✓[39m src/__tests__/integration/mcp-tools-integration.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 10[2mms[22m[39m
2025-12-09T09:16:12.1251531Z  [32m✓[39m src/infrastructure/search/__tests__/conceptual-hybrid-search-service.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 17[2mms[22m[39m
2025-12-09T09:16:12.3648138Z  [32m✓[39m src/infrastructure/resilience/__tests__/graceful-degradation.test.ts [2m([22m[2m35 tests[22m[2m)[22m[32m 20[2mms[22m[39m
2025-12-09T09:16:12.6123335Z  [32m✓[39m src/infrastructure/cli/__tests__/progress-bar-display.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 37[2mms[22m[39m
2025-12-09T09:16:12.6448660Z  [32m✓[39m src/infrastructure/search/__tests__/scoring-strategies.property.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 224[2mms[22m[39m
2025-12-09T09:16:12.9683132Z  [32m✓[39m src/concepts/__tests__/concept_chunk_matcher.test.ts [2m([22m[2m28 tests[22m[2m)[22m[32m 26[2mms[22m[39m
2025-12-09T09:16:13.0199316Z  [32m✓[39m src/infrastructure/document-loaders/__tests__/paper-detector.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 23[2mms[22m[39m
2025-12-09T09:16:13.1971946Z  [32m✓[39m src/infrastructure/checkpoint/__tests__/seeding-checkpoint.test.ts [2m([22m[2m23 tests[22m[2m)[22m[32m 48[2mms[22m[39m
2025-12-09T09:16:13.3144278Z  [32m✓[39m src/infrastructure/resilience/__tests__/resilient-executor.test.ts [2m([22m[2m29 tests[22m[2m)[22m[32m 75[2mms[22m[39m
2025-12-09T09:16:13.4840382Z  [32m✓[39m src/wordnet/__tests__/context-aware-strategy.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 9[2mms[22m[39m
2025-12-09T09:16:13.5432485Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests
2025-12-09T09:16:13.5435181Z [22m[39mConnecting to database: /tmp/concept-rag-test-chunk-repo-1765271773539
2025-12-09T09:16:13.5435737Z 
2025-12-09T09:16:13.5691120Z [2025-12-09T09:16:13Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-chunk-repo-1765271773539/chunks.lance, it will be created
2025-12-09T09:16:13.5811231Z [2025-12-09T09:16:13Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-chunk-repo-1765271773539/concepts.lance, it will be created
2025-12-09T09:16:13.5893666Z [2025-12-09T09:16:13Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-chunk-repo-1765271773539/catalog.lance, it will be created
2025-12-09T09:16:13.5958703Z [2025-12-09T09:16:13Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-chunk-repo-1765271773539/categories.lance, it will be created
2025-12-09T09:16:13.5985392Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests
2025-12-09T09:16:13.5988465Z [22m[39m✅ Opened table: chunks
2025-12-09T09:16:13.5988760Z 
2025-12-09T09:16:13.5995118Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests
2025-12-09T09:16:13.5998568Z [22m[39m✅ Opened table: concepts
2025-12-09T09:16:13.6000784Z 
2025-12-09T09:16:13.6033534Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests
2025-12-09T09:16:13.6035324Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:13.6035729Z 
2025-12-09T09:16:13.6036935Z [90mstdout[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests
2025-12-09T09:16:13.6038161Z [22m[39m[ConceptIdCache] Cache cleared
2025-12-09T09:16:13.6038751Z [ConceptIdCache] Loading concepts...
2025-12-09T09:16:13.6039065Z 
2025-12-09T09:16:13.6162580Z [90mstdout[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests
2025-12-09T09:16:13.6164428Z [22m[39m[ConceptIdCache] Loaded 5 concepts in 13ms
2025-12-09T09:16:13.6164815Z 
2025-12-09T09:16:13.6390501Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests[2m > [22m[2mfindByConceptName[2m > [22m[2mshould return empty array for non-existent concept
2025-12-09T09:16:13.6392930Z [22m[39m⚠️  Concept "nonexistent-concept-xyz" not found in concept table
2025-12-09T09:16:13.6393489Z 
2025-12-09T09:16:13.6695381Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests[2m > [22m[2mfindBySource[2m > [22m[2mshould find chunks by catalog title
2025-12-09T09:16:13.6702205Z [22m[39mfindBySource is deprecated - use findByCatalogId for better performance
2025-12-09T09:16:13.6702778Z 
2025-12-09T09:16:13.6723113Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests[2m > [22m[2mfindBySource[2m > [22m[2mshould handle partial title matching
2025-12-09T09:16:13.6729940Z [22m[39mfindBySource is deprecated - use findByCatalogId for better performance
2025-12-09T09:16:13.6731296Z 
2025-12-09T09:16:13.6757518Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests[2m > [22m[2mfindBySource[2m > [22m[2mshould return empty array for non-existent title
2025-12-09T09:16:13.6764434Z [22m[39mfindBySource is deprecated - use findByCatalogId for better performance
2025-12-09T09:16:13.6765006Z 
2025-12-09T09:16:13.8780627Z [90mstderr[2m | src/__tests__/integration/research-paper-metadata.integration.test.ts[2m > [22m[2mResearch Paper Metadata Fields - Integration Tests[2m > [22m[2mdocument_type field[2m > [22m[2mshould return document_type for books
2025-12-09T09:16:13.8782569Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:13.8784645Z 
2025-12-09T09:16:20.2073486Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould filter out short terms (length <= 2)
2025-12-09T09:16:20.2075549Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:20.2078468Z 
2025-12-09T09:16:20.2082429Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould filter out short terms (length <= 2)
2025-12-09T09:16:20.2084019Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:20.2084676Z 
2025-12-09T09:16:28.6550180Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould remove punctuation from terms
2025-12-09T09:16:28.6551770Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:28.6552140Z 
2025-12-09T09:16:28.6553665Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould remove punctuation from terms
2025-12-09T09:16:28.6555112Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:28.6555465Z 
2025-12-09T09:16:36.5128692Z  [32m✓[39m src/__tests__/integration/research-paper-metadata.integration.test.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 22672[2mms[22m[39m
2025-12-09T09:16:36.5133677Z        [33m[2m✓[22m[39m should include research paper fields in search results [33m 12813[2mms[22m[39m
2025-12-09T09:16:36.5135082Z        [33m[2m✓[22m[39m should include all fields in search results for journal papers [33m 9704[2mms[22m[39m
2025-12-09T09:16:36.7956636Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould enrich concepts with WordNet data
2025-12-09T09:16:36.7959943Z [22m[39m🔍 Enriching 1 concepts with WordNet...
2025-12-09T09:16:36.7960340Z 
2025-12-09T09:16:36.7962340Z 
2025-12-09T09:16:36.7962800Z   [████████████████████] 100.0% (1/1) - 1 enriched - ETA: 0s   
2025-12-09T09:16:36.7972237Z                                                                                 
2025-12-09T09:16:36.7981040Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould enrich concepts with WordNet data
2025-12-09T09:16:36.7983936Z [22m[39m✅ WordNet: 1 enriched, 0 not found, 0 errors
2025-12-09T09:16:36.7984318Z 
2025-12-09T09:16:36.8007405Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould limit synonyms to top 5
2025-12-09T09:16:36.8012695Z [22m[39m🔍 Enriching 1 concepts with WordNet...
2025-12-09T09:16:36.8013265Z 
2025-12-09T09:16:36.8014827Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould limit synonyms to top 5
2025-12-09T09:16:36.8017226Z [22m[39m✅ WordNet: 1 enriched, 0 not found, 0 errors
2025-12-09T09:16:36.8017874Z 
2025-12-09T09:16:36.8018518Z 
2025-12-09T09:16:36.8019234Z   [████████████████████] 100.0% (1/1) - 1 enriched - ETA: 0s   
2025-12-09T09:16:36.8020919Z                                                                                 
2025-12-09T09:16:36.8021547Z 
2025-12-09T09:16:36.8022197Z   [████████████████████] 100.0% (1/1) - 1 enriched - ETA: 0s   
2025-12-09T09:16:36.8023051Z                                                                                 
2025-12-09T09:16:36.8025902Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould limit hypernyms to top 3
2025-12-09T09:16:36.8027687Z [22m[39m🔍 Enriching 1 concepts with WordNet...
2025-12-09T09:16:36.8029817Z 
2025-12-09T09:16:36.8031239Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould limit hypernyms to top 3
2025-12-09T09:16:36.8032636Z [22m[39m✅ WordNet: 1 enriched, 0 not found, 0 errors
2025-12-09T09:16:36.8033004Z 
2025-12-09T09:16:36.8043256Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould limit hyponyms to top 5
2025-12-09T09:16:36.8044811Z [22m[39m🔍 Enriching 1 concepts with WordNet...
2025-12-09T09:16:36.8045334Z 
2025-12-09T09:16:36.8046805Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould limit hyponyms to top 5
2025-12-09T09:16:36.8048332Z [22m[39m✅ WordNet: 1 enriched, 0 not found, 0 errors
2025-12-09T09:16:36.8048838Z 
2025-12-09T09:16:36.8050567Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould handle concepts not found in WordNet
2025-12-09T09:16:36.8052879Z [22m[39m🔍 Enriching 1 concepts with WordNet...
2025-12-09T09:16:36.8056290Z 
2025-12-09T09:16:36.8058162Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould handle concepts not found in WordNet
2025-12-09T09:16:36.8059823Z [22m[39m✅ WordNet: 0 enriched, 1 not found, 0 errors
2025-12-09T09:16:36.8060218Z 
2025-12-09T09:16:36.8060229Z 
2025-12-09T09:16:36.8068756Z   [████████████████████] 100.0% (1/1) - 1 enriched - ETA: 0s   
2025-12-09T09:16:36.8069621Z                                                                                 
2025-12-09T09:16:36.8069973Z 
2025-12-09T09:16:36.8070423Z   [████████████████████] 100.0% (1/1) - 0 enriched - ETA: 0s   
2025-12-09T09:16:36.8071049Z                                                                                 
2025-12-09T09:16:36.8089256Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould handle errors gracefully and continue processing
2025-12-09T09:16:36.8090990Z [22m[39m🔍 Enriching 2 concepts with WordNet...
2025-12-09T09:16:36.8091364Z 
2025-12-09T09:16:36.8091386Z 
2025-12-09T09:16:36.8093107Z   [██████████░░░░░░░░░░] 50.0% (1/2) - 0 enriched - ETA: 0s   [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould handle errors gracefully and continue processing
2025-12-09T09:16:36.8119673Z [22m[39mError enriching concept "error concept": WordNet lookup failed
2025-12-09T09:16:36.8120411Z 
2025-12-09T09:16:36.8120423Z 
2025-12-09T09:16:36.8120918Z   [████████████████████] 100.0% (2/2) - 1 enriched - ETA: 0s   
2025-12-09T09:16:36.8123870Z                                                                                 
2025-12-09T09:16:36.8125763Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould handle errors gracefully and continue processing
2025-12-09T09:16:36.8127250Z [22m[39m✅ WordNet: 1 enriched, 0 not found, 1 errors
2025-12-09T09:16:36.8127620Z 
2025-12-09T09:16:36.8128940Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould process multiple concepts
2025-12-09T09:16:36.8130392Z [22m[39m🔍 Enriching 2 concepts with WordNet...
2025-12-09T09:16:36.8131141Z 
2025-12-09T09:16:36.8131179Z 
2025-12-09T09:16:36.8131634Z   [██████████░░░░░░░░░░] 50.0% (1/2) - 1 enriched - ETA: 0s   
2025-12-09T09:16:36.8132426Z   [████████████████████] 100.0% (2/2) - 2 enriched - ETA: 0s   
2025-12-09T09:16:36.8133116Z                                                                                 
2025-12-09T09:16:36.8134760Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould process multiple concepts
2025-12-09T09:16:36.8136079Z [22m[39m✅ WordNet: 2 enriched, 0 not found, 0 errors
2025-12-09T09:16:36.8136431Z 
2025-12-09T09:16:36.8137799Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould call saveCache after enrichment
2025-12-09T09:16:36.8139107Z [22m[39m🔍 Enriching 1 concepts with WordNet...
2025-12-09T09:16:36.8139618Z 
2025-12-09T09:16:36.8139635Z 
2025-12-09T09:16:36.8140070Z   [████████████████████] 100.0% (1/1) - 0 enriched - ETA: 0s   
2025-12-09T09:16:36.8140670Z                                                                                 
2025-12-09T09:16:36.8142324Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould call saveCache after enrichment
2025-12-09T09:16:36.8143654Z [22m[39m✅ WordNet: 0 enriched, 1 not found, 0 errors
2025-12-09T09:16:36.8144006Z 
2025-12-09T09:16:36.8144015Z 
2025-12-09T09:16:36.8144261Z                                                                                 
2025-12-09T09:16:36.8146078Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichConcepts[2m > [22m[2mshould handle empty concepts array
2025-12-09T09:16:36.8147379Z [22m[39m🔍 Enriching 0 concepts with WordNet...
2025-12-09T09:16:36.8148048Z ✅ WordNet: 0 enriched, 0 not found, 0 errors
2025-12-09T09:16:36.8148372Z 
2025-12-09T09:16:36.8154764Z [90mstdout[2m | src/concepts/__tests__/concept_enricher.test.ts[2m > [22m[2mConceptEnricher[2m > [22m[2menrichSingleConcept[2m > [22m[2mshould handle errors gracefully
2025-12-09T09:16:36.8156274Z [22m[39mError enriching concept "error concept": WordNet lookup failed
2025-12-09T09:16:36.8156738Z 
2025-12-09T09:16:36.8172865Z  [32m✓[39m src/concepts/__tests__/concept_enricher.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 24[2mms[22m[39m
2025-12-09T09:16:36.8263675Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8264963Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8265328Z 
2025-12-09T09:16:36.8266426Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8267633Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8268006Z 
2025-12-09T09:16:36.8269065Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8270480Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8270839Z 
2025-12-09T09:16:36.8275188Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8276440Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8276806Z 
2025-12-09T09:16:36.8277881Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8279087Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8279657Z 
2025-12-09T09:16:36.8283370Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8284597Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8285285Z 
2025-12-09T09:16:36.8291635Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8292860Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8293216Z 
2025-12-09T09:16:36.8301506Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8302704Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8303062Z 
2025-12-09T09:16:36.8313925Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8315225Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8315670Z 
2025-12-09T09:16:36.8322170Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8328091Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8331343Z 
2025-12-09T09:16:36.8332674Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8333885Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8334246Z 
2025-12-09T09:16:36.8335286Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8336446Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8336793Z 
2025-12-09T09:16:36.8341754Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:16:36.8343186Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:36.8343553Z 
2025-12-09T09:16:37.0776222Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould process document successfully with all services healthy
2025-12-09T09:16:37.0777558Z [22m[39mProcessing document with 10 chunks...
2025-12-09T09:16:37.0777987Z 
2025-12-09T09:16:37.0852199Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould process document successfully with all services healthy
2025-12-09T09:16:37.0856072Z [22m[39m✓ All chunks processed successfully
2025-12-09T09:16:37.0856374Z 
2025-12-09T09:16:37.0867694Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:37.0900105Z [22m[39mTesting pipeline with LLM failures...
2025-12-09T09:16:37.0900588Z 
2025-12-09T09:16:37.0902550Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:37.0904408Z [22m[39mLLM service failed, continuing with remaining chunks...
2025-12-09T09:16:37.0906361Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:37.0908006Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: LLM service unavailable
2025-12-09T09:16:37.0908917Z Operation failed (attempt 1/3), retrying in 1000ms: LLM service unavailable
2025-12-09T09:16:37.0909968Z Operation failed (attempt 1/3), retrying in 1000ms: LLM service unavailable
2025-12-09T09:16:37.0910824Z Operation failed (attempt 1/3), retrying in 1000ms: LLM service unavailable
2025-12-09T09:16:37.0911667Z Operation failed (attempt 1/3), retrying in 1000ms: LLM service unavailable
2025-12-09T09:16:37.0912124Z 
2025-12-09T09:16:37.0913950Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:37.0931751Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:37.0933119Z Operation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:37.0934440Z Operation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:37.0935745Z Operation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:37.0937053Z Operation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:37.0937681Z 
2025-12-09T09:16:37.0937705Z 
2025-12-09T09:16:37.0939188Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:37.0940959Z [22m[39mCircuit breaker 'pipeline_concept_extraction': closed → open {
2025-12-09T09:16:37.0941764Z   circuitBreaker: [32m'pipeline_concept_extraction'[39m,
2025-12-09T09:16:37.0942334Z   from: [32m'closed'[39m,
2025-12-09T09:16:37.0942751Z   to: [32m'open'[39m
2025-12-09T09:16:37.0943088Z }
2025-12-09T09:16:37.0943246Z 
2025-12-09T09:16:38.0926578Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0929035Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0929980Z 
2025-12-09T09:16:38.0931610Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0933410Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0934407Z 
2025-12-09T09:16:38.0936001Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0937727Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0938307Z 
2025-12-09T09:16:38.0939791Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0941513Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0942081Z 
2025-12-09T09:16:38.0943407Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0945074Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0945658Z 
2025-12-09T09:16:38.0946957Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0948901Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0949739Z 
2025-12-09T09:16:38.0951163Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0953054Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0953724Z 
2025-12-09T09:16:38.0955228Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0957165Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0957831Z 
2025-12-09T09:16:38.0959338Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0961423Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0962089Z 
2025-12-09T09:16:38.0963574Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:38.0965730Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:38.0966436Z 
2025-12-09T09:16:38.1534393Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould assign weight 1.0 to original terms
2025-12-09T09:16:38.1536080Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:38.1536465Z 
2025-12-09T09:16:38.1541260Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould assign weight 1.0 to original terms
2025-12-09T09:16:38.1545294Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:38.1546702Z 
2025-12-09T09:16:40.0939077Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle LLM failures with circuit breaker while continuing other stages
2025-12-09T09:16:40.0941287Z [22m[39m✓ Pipeline continued processing despite LLM failure
2025-12-09T09:16:40.0942182Z Pipeline results: {
2025-12-09T09:16:40.0942976Z   totalChunks: [33m15[39m,
2025-12-09T09:16:40.0943984Z   chunksWithConcepts: [33m5[39m,
2025-12-09T09:16:40.0944607Z   chunksWithEmbeddings: [33m15[39m,
2025-12-09T09:16:40.0945155Z   chunksStored: [33m15[39m
2025-12-09T09:16:40.0945541Z }
2025-12-09T09:16:40.0949750Z 
2025-12-09T09:16:40.0955090Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle concurrent chunk processing with bulkhead protection
2025-12-09T09:16:40.0956737Z [22m[39mProcessing 25 chunks concurrently with bulkhead protection...
2025-12-09T09:16:40.0957863Z 
2025-12-09T09:16:40.0962147Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle concurrent chunk processing with bulkhead protection
2025-12-09T09:16:40.0964249Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0966322Z Operation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0967844Z Operation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0969326Z Operation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0971019Z Operation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0972522Z Operation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0974007Z Operation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0975499Z Operation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0976973Z Operation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0978443Z Operation failed (attempt 1/3), retrying in 1000ms: Bulkhead 'pipeline_concept_extraction' rejected request: Queue full (5 active, 10/10 queued)
2025-12-09T09:16:40.0979144Z 
2025-12-09T09:16:40.2904288Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests[2m > [22m[2msearch (hybrid search)[2m > [22m[2mshould support debug mode without errors
2025-12-09T09:16:40.2905907Z [22m[39m
2025-12-09T09:16:40.2906336Z 🔍 Query Expansion:
2025-12-09T09:16:40.2906737Z   Original: clean, architecture
2025-12-09T09:16:40.2907138Z   + Corpus: 
2025-12-09T09:16:40.2907461Z   + Concepts: 
2025-12-09T09:16:40.2907942Z   + WordNet: make clean, change, computer architecture, structure
2025-12-09T09:16:40.2908549Z   Total terms: [33m6[39m
2025-12-09T09:16:40.2908807Z 
2025-12-09T09:16:40.2909121Z ⚖️  Dynamic Weight Adjustment:
2025-12-09T09:16:40.2909903Z    Reason: short query without strong concept signal
2025-12-09T09:16:40.2910594Z    WordNet boost: 1.50x → weight: 22.5%
2025-12-09T09:16:40.2911188Z 🔍 Filter: is_reference = false
2025-12-09T09:16:40.2911462Z 
2025-12-09T09:16:40.2954367Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests[2m > [22m[2msearch (hybrid search)[2m > [22m[2mshould support debug mode without errors
2025-12-09T09:16:40.2955792Z [22m[39m
2025-12-09T09:16:40.2957492Z 📊 Top Results with Scores:
2025-12-09T09:16:40.2959039Z 
2025-12-09T09:16:40.2959210Z 1. Clean Architecture
2025-12-09T09:16:40.2959718Z    Vector: 0.190
2025-12-09T09:16:40.2960014Z    BM25: 0.556
2025-12-09T09:16:40.2960274Z    Title: 1.000
2025-12-09T09:16:40.2960545Z    Concept: 0.000
2025-12-09T09:16:40.2960816Z    WordNet: 0.000
2025-12-09T09:16:40.2961163Z    ➜ Hybrid: 0.192
2025-12-09T09:16:40.2961488Z    Matched: clean architecture
2025-12-09T09:16:40.2961713Z 
2025-12-09T09:16:40.2961857Z 2. Dependency Injection
2025-12-09T09:16:40.2962146Z    Vector: 0.000
2025-12-09T09:16:40.2962400Z    BM25: 0.000
2025-12-09T09:16:40.2962655Z    Title: 0.000
2025-12-09T09:16:40.2962917Z    Concept: 0.000
2025-12-09T09:16:40.2963187Z    WordNet: 0.000
2025-12-09T09:16:40.2963497Z    ➜ Hybrid: 0.000
2025-12-09T09:16:40.2963666Z 
2025-12-09T09:16:40.2963804Z 3. Repository Pattern
2025-12-09T09:16:40.2964089Z    Vector: 0.000
2025-12-09T09:16:40.2964344Z    BM25: 0.000
2025-12-09T09:16:40.2964607Z    Title: 0.000
2025-12-09T09:16:40.2964859Z    Concept: 0.000
2025-12-09T09:16:40.2965126Z    WordNet: 0.000
2025-12-09T09:16:40.2965438Z    ➜ Hybrid: 0.000
2025-12-09T09:16:40.2966099Z    Matched: clean architecture
2025-12-09T09:16:40.2966313Z 
2025-12-09T09:16:40.2966321Z 
2025-12-09T09:16:40.2976292Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests[2m > [22m[2mfield mapping validation[2m > [22m[2mshould correctly map all chunk fields from LanceDB
2025-12-09T09:16:40.2977508Z [22m[39mfindBySource is deprecated - use findByCatalogId for better performance
2025-12-09T09:16:40.2977828Z 
2025-12-09T09:16:40.3007945Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests[2m > [22m[2mfield mapping validation[2m > [22m[2mshould handle array fields correctly
2025-12-09T09:16:40.3010882Z [22m[39mfindBySource is deprecated - use findByCatalogId for better performance
2025-12-09T09:16:40.3011341Z 
2025-12-09T09:16:41.5991081Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould handle concurrent chunk processing with bulkhead protection
2025-12-09T09:16:41.5992800Z [22m[39mProcessed 25 chunks in 1502ms
2025-12-09T09:16:41.5993838Z Embedding bulkhead metrics: { maxConcurrent: [33m10[39m, rejections: [33m0[39m }
2025-12-09T09:16:41.5994794Z ✓ Concurrent processing protected by bulkhead
2025-12-09T09:16:41.5995155Z 
2025-12-09T09:16:41.5996819Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould recover and continue processing when services recover
2025-12-09T09:16:41.5998273Z [22m[39mTesting pipeline recovery...
2025-12-09T09:16:41.5998595Z 
2025-12-09T09:16:41.6006924Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould recover and continue processing when services recover
2025-12-09T09:16:41.6008514Z [22m[39mLLM service failed, processing batch 2...
2025-12-09T09:16:41.6008899Z 
2025-12-09T09:16:41.6010870Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould recover and continue processing when services recover
2025-12-09T09:16:41.6012561Z [22m[39mCircuit breaker 'pipeline_recovery_test': closed → open {
2025-12-09T09:16:41.6013398Z   circuitBreaker: [32m'pipeline_recovery_test'[39m,
2025-12-09T09:16:41.6013998Z   from: [32m'closed'[39m,
2025-12-09T09:16:41.6014453Z   to: [32m'open'[39m
2025-12-09T09:16:41.6014806Z }
2025-12-09T09:16:41.6014967Z 
2025-12-09T09:16:41.6016595Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould recover and continue processing when services recover
2025-12-09T09:16:41.6018322Z [22m[39mServices recovered, waiting for circuit breaker recovery (3s)...
2025-12-09T09:16:41.6018830Z 
2025-12-09T09:16:42.8358594Z [90mstderr[2m | src/__tests__/integration/chunk-repository.integration.test.ts[2m > [22m[2mLanceDBChunkRepository - Integration Tests
2025-12-09T09:16:42.8360390Z [22m[39m🛑 Database connection closed
2025-12-09T09:16:42.8360847Z 
2025-12-09T09:16:42.8396038Z  [32m✓[39m src/__tests__/integration/chunk-repository.integration.test.ts [2m([22m[2m20 tests[22m[2m)[22m[33m 29300[2mms[22m[39m
2025-12-09T09:16:42.8397570Z        [33m[2m✓[22m[39m should perform hybrid search across all chunks [33m 12868[2mms[22m[39m
2025-12-09T09:16:42.8398775Z        [33m[2m✓[22m[39m should rank results by hybrid score [33m 7357[2mms[22m[39m
2025-12-09T09:16:42.8400147Z        [33m[2m✓[22m[39m should support debug mode without errors [33m 6392[2mms[22m[39m
2025-12-09T09:16:42.8401371Z        [33m[2m✓[22m[39m should return empty array for very specific non-matching query [33m 2500[2mms[22m[39m
2025-12-09T09:16:43.1387738Z [90mstderr[2m | src/__tests__/e2e/cache-performance.e2e.test.ts[2m > [22m[2mCache Performance E2E Tests
2025-12-09T09:16:43.1389664Z [22m[39m🏗️  Initializing application container...
2025-12-09T09:16:43.1390799Z ✅ Resilience infrastructure initialized (circuit breaker, bulkhead, timeout)
2025-12-09T09:16:43.1391662Z Connecting to database: ./db/test
2025-12-09T09:16:43.1391980Z 
2025-12-09T09:16:43.1407001Z [90mstderr[2m | src/__tests__/e2e/cache-performance.e2e.test.ts[2m > [22m[2mCache Performance E2E Tests
2025-12-09T09:16:43.1407876Z [22m[39mOperation failed (attempt 1/2), retrying in 100ms: Failed to open table "chunks"
2025-12-09T09:16:43.2472369Z 
2025-12-09T09:16:43.2473677Z [90mstderr[2m | src/__tests__/e2e/cache-performance.e2e.test.ts[2m > [22m[2mCache Performance E2E Tests
2025-12-09T09:16:43.2475175Z [22m[39m🛑 Database connection closed
2025-12-09T09:16:43.2475618Z 
2025-12-09T09:16:43.2476686Z [90mstderr[2m | src/__tests__/e2e/cache-performance.e2e.test.ts[2m > [22m[2mCache Performance E2E Tests
2025-12-09T09:16:43.2477817Z [22m[39m🛑 Container shutdown complete
2025-12-09T09:16:43.2478166Z 
2025-12-09T09:16:43.2529156Z  [31m❯[39m src/__tests__/e2e/cache-performance.e2e.test.ts [2m([22m[2m7 tests[22m[2m | [22m[33m7 skipped[39m[2m)[22m[32m 111[2mms[22m[39m
2025-12-09T09:16:43.2530451Z        [2m[90m↓[39m[22m should demonstrate cache hit rate >60% on repeated queries
2025-12-09T09:16:43.2531258Z        [2m[90m↓[39m[22m should maintain performance under realistic query patterns
2025-12-09T09:16:43.2531962Z        [2m[90m↓[39m[22m should cache embeddings for repeated texts
2025-12-09T09:16:43.2532625Z        [2m[90m↓[39m[22m should handle diverse query patterns efficiently
2025-12-09T09:16:43.2533283Z        [2m[90m↓[39m[22m should expire search results after TTL
2025-12-09T09:16:43.2534333Z        [2m[90m↓[39m[22m should handle concurrent queries efficiently
2025-12-09T09:16:43.2535081Z        [2m[90m↓[39m[22m should perform well under realistic usage patterns
2025-12-09T09:16:43.3260245Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould return all_terms array
2025-12-09T09:16:43.3261926Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:43.3262353Z 
2025-12-09T09:16:43.3265950Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould return all_terms array
2025-12-09T09:16:43.3267527Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:43.3267945Z 
2025-12-09T09:16:43.4272551Z  [32m✓[39m src/infrastructure/document-loaders/__tests__/math-content-handler.test.ts [2m([22m[2m44 tests[22m[2m)[22m[32m 15[2mms[22m[39m
2025-12-09T09:16:43.5708805Z  [32m✓[39m src/infrastructure/search/__tests__/dynamic-weights.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 8[2mms[22m[39m
2025-12-09T09:16:43.8547895Z [90mstderr[2m | src/__tests__/integration/paper-detection.integration.test.ts[2m > [22m[2mPaper Detection - Integration with Sample Papers
2025-12-09T09:16:43.8550735Z [22m[39mSample papers not found, skipping integration tests
2025-12-09T09:16:43.8551191Z 
2025-12-09T09:16:43.8609820Z  [32m✓[39m src/__tests__/integration/paper-detection.integration.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 6[2mms[22m[39m
2025-12-09T09:16:44.0118799Z  [32m✓[39m src/infrastructure/utils/__tests__/filename-metadata-parser.test.ts [2m([22m[2m34 tests[22m[2m)[22m[32m 9[2mms[22m[39m
2025-12-09T09:16:44.4799834Z  [32m✓[39m src/concepts/__tests__/concept_chunk_matcher.property.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 154[2mms[22m[39m
2025-12-09T09:16:44.6374052Z  [32m✓[39m src/domain/validation/__tests__/validation.test.ts [2m([22m[2m38 tests[22m[2m)[22m[32m 13[2mms[22m[39m
2025-12-09T09:16:44.8015479Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould recover and continue processing when services recover
2025-12-09T09:16:44.8030697Z [22m[39mProcessing batch 3 after recovery...
2025-12-09T09:16:44.8031992Z Circuit breaker 'pipeline_recovery_test': open → half-open {
2025-12-09T09:16:44.8033065Z   circuitBreaker: [32m'pipeline_recovery_test'[39m,
2025-12-09T09:16:44.8033977Z   from: [32m'open'[39m,
2025-12-09T09:16:44.8034804Z   to: [32m'half-open'[39m
2025-12-09T09:16:44.8035481Z }
2025-12-09T09:16:44.8035928Z 
2025-12-09T09:16:44.8037753Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould recover and continue processing when services recover
2025-12-09T09:16:44.8039960Z [22m[39mCircuit breaker 'pipeline_recovery_test': half-open → closed {
2025-12-09T09:16:44.8041168Z   circuitBreaker: [32m'pipeline_recovery_test'[39m,
2025-12-09T09:16:44.8042178Z   from: [32m'half-open'[39m,
2025-12-09T09:16:44.8043203Z   to: [32m'closed'[39m
2025-12-09T09:16:44.8043760Z }
2025-12-09T09:16:44.8044115Z 
2025-12-09T09:16:44.8047640Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould recover and continue processing when services recover
2025-12-09T09:16:44.8049236Z [22m[39m✓ Pipeline recovered after service restoration
2025-12-09T09:16:44.8049820Z 
2025-12-09T09:16:44.8072609Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:44.8075239Z [22m[39mPipeline health summary: { healthy: [33mtrue[39m, openCircuits: [], fullBulkheads: [], warnings: [] }
2025-12-09T09:16:44.8076211Z 
2025-12-09T09:16:44.8085819Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:44.8088047Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: MockLLMService is unhealthy
2025-12-09T09:16:44.8089165Z 
2025-12-09T09:16:44.9167248Z  [32m✓[39m src/infrastructure/document-loaders/__tests__/references-detector.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 9[2mms[22m[39m
2025-12-09T09:16:45.4407798Z  [32m✓[39m src/infrastructure/resilience/__tests__/timeout.test.ts [2m([22m[2m27 tests[22m[2m)[22m[33m 378[2mms[22m[39m
2025-12-09T09:16:45.6960608Z  [32m✓[39m src/infrastructure/cache/__tests__/embedding-cache.test.ts [2m([22m[2m30 tests[22m[2m)[22m[32m 114[2mms[22m[39m
2025-12-09T09:16:45.8088580Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:45.8090604Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: MockLLMService is unhealthy
2025-12-09T09:16:45.8091173Z 
2025-12-09T09:16:45.9442602Z [90mstderr[2m | src/__tests__/integration/catalog-repository.integration.test.ts[2m > [22m[2mLanceDBCatalogRepository - Integration Tests
2025-12-09T09:16:45.9443858Z [22m[39mConnecting to database: /tmp/concept-rag-test-catalog-repo-1765271805942
2025-12-09T09:16:45.9444266Z 
2025-12-09T09:16:45.9608969Z [2025-12-09T09:16:45Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-catalog-repo-1765271805942/chunks.lance, it will be created
2025-12-09T09:16:45.9691170Z [2025-12-09T09:16:45Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-catalog-repo-1765271805942/concepts.lance, it will be created
2025-12-09T09:16:45.9743245Z [2025-12-09T09:16:45Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-catalog-repo-1765271805942/catalog.lance, it will be created
2025-12-09T09:16:45.9778033Z [2025-12-09T09:16:45Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-catalog-repo-1765271805942/categories.lance, it will be created
2025-12-09T09:16:45.9797615Z [90mstderr[2m | src/__tests__/integration/catalog-repository.integration.test.ts[2m > [22m[2mLanceDBCatalogRepository - Integration Tests
2025-12-09T09:16:45.9798861Z [22m[39m✅ Opened table: catalog
2025-12-09T09:16:45.9799174Z 
2025-12-09T09:16:45.9802277Z [90mstderr[2m | src/__tests__/integration/catalog-repository.integration.test.ts[2m > [22m[2mLanceDBCatalogRepository - Integration Tests
2025-12-09T09:16:45.9804863Z [22m[39m✅ Opened table: concepts
2025-12-09T09:16:45.9805177Z 
2025-12-09T09:16:45.9837739Z [90mstderr[2m | src/__tests__/integration/catalog-repository.integration.test.ts[2m > [22m[2mLanceDBCatalogRepository - Integration Tests[2m > [22m[2msearch[2m > [22m[2mshould perform hybrid search on catalog
2025-12-09T09:16:45.9839720Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:45.9840137Z 
2025-12-09T09:16:45.9841952Z [90mstderr[2m | src/__tests__/integration/catalog-repository.integration.test.ts[2m > [22m[2mLanceDBCatalogRepository - Integration Tests[2m > [22m[2msearch[2m > [22m[2mshould perform hybrid search on catalog
2025-12-09T09:16:45.9843580Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:45.9843933Z 
2025-12-09T09:16:47.8101676Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:47.8103678Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: MockLLMService is unhealthy
2025-12-09T09:16:47.8104256Z 
2025-12-09T09:16:48.6943759Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould include original terms in all_terms
2025-12-09T09:16:48.6945977Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:48.6946614Z 
2025-12-09T09:16:48.6948618Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - basic functionality[2m > [22m[2mshould include original terms in all_terms
2025-12-09T09:16:48.6950373Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:48.6950736Z 
2025-12-09T09:16:48.8122471Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:48.8124288Z [22m[39mCircuit breaker 'pipeline_concept_extraction': closed → open {
2025-12-09T09:16:48.8125208Z   circuitBreaker: [32m'pipeline_concept_extraction'[39m,
2025-12-09T09:16:48.8125885Z   from: [32m'closed'[39m,
2025-12-09T09:16:48.8126340Z   to: [32m'open'[39m
2025-12-09T09:16:48.8126685Z }
2025-12-09T09:16:48.8126852Z 
2025-12-09T09:16:48.8129723Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:48.8131617Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: MockLLMService is unhealthy
2025-12-09T09:16:48.8132233Z 
2025-12-09T09:16:50.8122422Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:50.8124445Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:50.8125148Z 
2025-12-09T09:16:51.8131524Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:51.8135429Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:51.8136229Z 
2025-12-09T09:16:53.8148270Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:53.8150208Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:53.8150800Z 
2025-12-09T09:16:53.9167406Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould search concept table for related concepts
2025-12-09T09:16:53.9169601Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:16:53.9170263Z 
2025-12-09T09:16:53.9171869Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould search concept table for related concepts
2025-12-09T09:16:53.9173412Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:53.9173776Z 
2025-12-09T09:16:53.9175291Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould search concept table for related concepts
2025-12-09T09:16:53.9176694Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:53.9177020Z 
2025-12-09T09:16:54.8153691Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:54.8155753Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:54.8156434Z 
2025-12-09T09:16:56.8170175Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:56.8172535Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:56.8173330Z 
2025-12-09T09:16:57.8172905Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:57.8175194Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:57.8175994Z 
2025-12-09T09:16:59.1119556Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould add thematic concepts with higher weight threshold
2025-12-09T09:16:59.1121481Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:16:59.1122788Z 
2025-12-09T09:16:59.1124447Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould add thematic concepts with higher weight threshold
2025-12-09T09:16:59.1125939Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:59.1126282Z 
2025-12-09T09:16:59.1127257Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould add thematic concepts with higher weight threshold
2025-12-09T09:16:59.1128115Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:16:59.1128319Z 
2025-12-09T09:16:59.8193149Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:16:59.8195780Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:16:59.8196648Z 
2025-12-09T09:17:00.8199095Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:17:00.8201579Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:17:00.8202520Z 
2025-12-09T09:17:02.8216168Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:17:02.8219757Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:17:02.8220558Z 
2025-12-09T09:17:03.8211778Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:17:03.8215668Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:17:03.8216371Z 
2025-12-09T09:17:04.3047116Z [90mstderr[2m | src/__tests__/integration/catalog-repository.integration.test.ts[2m > [22m[2mLanceDBCatalogRepository - Integration Tests[2m > [22m[2msearch[2m > [22m[2mshould support debug mode
2025-12-09T09:17:04.3049006Z [22m[39m
2025-12-09T09:17:04.3049713Z 🔍 Query Expansion:
2025-12-09T09:17:04.3050114Z   Original: typescript
2025-12-09T09:17:04.3050490Z   + Corpus: 
2025-12-09T09:17:04.3050818Z   + Concepts: 
2025-12-09T09:17:04.3051127Z   + WordNet: matter
2025-12-09T09:17:04.3051539Z   Total terms: [33m2[39m
2025-12-09T09:17:04.3051767Z 
2025-12-09T09:17:04.3052072Z ⚖️  Dynamic Weight Adjustment:
2025-12-09T09:17:04.3052602Z    Reason: single-term query without concept matches
2025-12-09T09:17:04.3053248Z    WordNet boost: 2.00x → weight: 20.0%
2025-12-09T09:17:04.3053544Z 
2025-12-09T09:17:04.3093450Z [90mstderr[2m | src/__tests__/integration/catalog-repository.integration.test.ts[2m > [22m[2mLanceDBCatalogRepository - Integration Tests[2m > [22m[2msearch[2m > [22m[2mshould support debug mode
2025-12-09T09:17:04.3096231Z [22m[39m
2025-12-09T09:17:04.3096719Z 📊 Top Results with Scores:
2025-12-09T09:17:04.3099558Z 
2025-12-09T09:17:04.3099772Z 1. typescript.pdf
2025-12-09T09:17:04.3100179Z    Vector: 0.000
2025-12-09T09:17:04.3100541Z    BM25: 0.601
2025-12-09T09:17:04.3100882Z    Title: 1.000
2025-12-09T09:17:04.3101242Z    Concept: 0.000
2025-12-09T09:17:04.3101607Z    WordNet: 0.000
2025-12-09T09:17:04.3102094Z    ➜ Hybrid: 0.270
2025-12-09T09:17:04.3102467Z    Matched: typescript
2025-12-09T09:17:04.3102723Z 
2025-12-09T09:17:04.3102908Z 2. clean-architecture.pdf
2025-12-09T09:17:04.3103288Z    Vector: 0.000
2025-12-09T09:17:04.3103606Z    BM25: 0.000
2025-12-09T09:17:04.3104155Z    Title: 0.000
2025-12-09T09:17:04.3104478Z    Concept: 0.000
2025-12-09T09:17:04.3104801Z    WordNet: 0.000
2025-12-09T09:17:04.3105211Z    ➜ Hybrid: 0.000
2025-12-09T09:17:04.3105402Z 
2025-12-09T09:17:04.3105534Z 3. solid.pdf
2025-12-09T09:17:04.3105831Z    Vector: 0.000
2025-12-09T09:17:04.3106138Z    BM25: 0.000
2025-12-09T09:17:04.3106435Z    Title: 0.000
2025-12-09T09:17:04.3106745Z    Concept: 0.000
2025-12-09T09:17:04.3107051Z    WordNet: 0.000
2025-12-09T09:17:04.3107413Z    ➜ Hybrid: 0.000
2025-12-09T09:17:04.3107629Z 
2025-12-09T09:17:04.3107640Z 
2025-12-09T09:17:04.3109271Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould add terminology concepts with higher weight threshold
2025-12-09T09:17:04.3111722Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:17:04.3112264Z 
2025-12-09T09:17:04.3113905Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould add terminology concepts with higher weight threshold
2025-12-09T09:17:04.3115369Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:04.3115723Z 
2025-12-09T09:17:04.3117336Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould add terminology concepts with higher weight threshold
2025-12-09T09:17:04.3118875Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:04.3119238Z 
2025-12-09T09:17:05.8231662Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:17:05.8235151Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:17:05.8235962Z 
2025-12-09T09:17:06.8232401Z [90mstderr[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:17:06.8234501Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Circuit breaker 'pipeline_concept_extraction' is OPEN - failing fast
2025-12-09T09:17:06.8235194Z 
2025-12-09T09:17:08.8248228Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould provide comprehensive health summary across pipeline
2025-12-09T09:17:08.8250175Z [22m[39mDegraded health summary: {
2025-12-09T09:17:08.8250912Z   healthy: [33mfalse[39m,
2025-12-09T09:17:08.8251718Z   openCircuits: [ [32m'pipeline_concept_extraction'[39m ],
2025-12-09T09:17:08.8252378Z   fullBulkheads: [],
2025-12-09T09:17:08.8253401Z   warnings: [ [32m"Circuit breaker 'pipeline_concept_extraction' has 19 rejections"[39m ]
2025-12-09T09:17:08.8254164Z }
2025-12-09T09:17:08.8255036Z ✓ Health summary reflects pipeline state accurately
2025-12-09T09:17:08.8255364Z 
2025-12-09T09:17:08.8256600Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould maintain service isolation when one service is slow
2025-12-09T09:17:08.8257764Z [22m[39mTesting service isolation with slow LLM...
2025-12-09T09:17:08.8258065Z 
2025-12-09T09:17:09.5823240Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould apply 80% weight to corpus terms
2025-12-09T09:17:09.5824957Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:17:09.5825530Z 
2025-12-09T09:17:09.5826913Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould apply 80% weight to corpus terms
2025-12-09T09:17:09.5828339Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:09.5828682Z 
2025-12-09T09:17:09.5830320Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould apply 80% weight to corpus terms
2025-12-09T09:17:09.5831801Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:09.5832053Z 
2025-12-09T09:17:12.2254639Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould handle corpus expansion errors gracefully
2025-12-09T09:17:12.2257169Z [22m[39mCorpus expansion error: Database error
2025-12-09T09:17:12.2257708Z 
2025-12-09T09:17:12.2259337Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould handle corpus expansion errors gracefully
2025-12-09T09:17:12.2260783Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:12.2261077Z 
2025-12-09T09:17:12.2262311Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould handle corpus expansion errors gracefully
2025-12-09T09:17:12.2263514Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:12.2263787Z 
2025-12-09T09:17:12.2264980Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould handle corpus expansion errors gracefully
2025-12-09T09:17:12.2266117Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:12.2266381Z 
2025-12-09T09:17:12.3479124Z [90mstderr[2m | src/__tests__/integration/catalog-repository.integration.test.ts[2m > [22m[2mLanceDBCatalogRepository - Integration Tests
2025-12-09T09:17:12.3480634Z [22m[39m🛑 Database connection closed
2025-12-09T09:17:12.3480964Z 
2025-12-09T09:17:12.3532092Z  [32m✓[39m src/__tests__/integration/catalog-repository.integration.test.ts [2m([22m[2m17 tests[22m[2m)[22m[33m 26409[2mms[22m[39m
2025-12-09T09:17:12.3533617Z        [33m[2m✓[22m[39m should perform hybrid search on catalog [33m 5242[2mms[22m[39m
2025-12-09T09:17:12.3537670Z        [33m[2m✓[22m[39m should rank by hybrid score [33m 5299[2mms[22m[39m
2025-12-09T09:17:12.3538965Z        [33m[2m✓[22m[39m should benefit from title matching [33m 5189[2mms[22m[39m
2025-12-09T09:17:12.3540485Z        [33m[2m✓[22m[39m should support debug mode [33m 2597[2mms[22m[39m
2025-12-09T09:17:12.3541520Z        [33m[2m✓[22m[39m should correctly map all catalog fields [33m 5253[2mms[22m[39m
2025-12-09T09:17:12.3542531Z        [33m[2m✓[22m[39m should handle large limit gracefully [33m 2682[2mms[22m[39m
2025-12-09T09:17:12.8351643Z  [32m✓[39m src/concepts/__tests__/parallel-concept-extractor.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 177[2mms[22m[39m
2025-12-09T09:17:12.9297997Z [90mstdout[2m | src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts[2m > [22m[2mE2E: Document Pipeline Resilience[2m > [22m[2mshould maintain service isolation when one service is slow
2025-12-09T09:17:12.9311389Z [22m[39mPipeline completed in 4102ms
2025-12-09T09:17:12.9312568Z Service metrics: {
2025-12-09T09:17:12.9312970Z   llm: {
2025-12-09T09:17:12.9313463Z     state: [32m'closed'[39m,
2025-12-09T09:17:12.9313955Z     failures: [33m0[39m,
2025-12-09T09:17:12.9314430Z     successes: [33m0[39m,
2025-12-09T09:17:12.9314928Z     rejections: [33m0[39m,
2025-12-09T09:17:12.9315486Z     lastFailure: [90mundefined[39m,
2025-12-09T09:17:12.9316180Z     lastStateChange: [35m2025-12-09T09:17:08.824Z[39m,
2025-12-09T09:17:12.9316827Z     totalRequests: [33m10[39m,
2025-12-09T09:17:12.9317373Z     totalSuccesses: [33m10[39m,
2025-12-09T09:17:12.9317908Z     totalFailures: [33m0[39m
2025-12-09T09:17:12.9318302Z   },
2025-12-09T09:17:12.9318601Z   embedding: {
2025-12-09T09:17:12.9319014Z     active: [33m0[39m,
2025-12-09T09:17:12.9319676Z     queued: [33m0[39m,
2025-12-09T09:17:12.9320163Z     rejections: [33m0[39m,
2025-12-09T09:17:12.9320692Z     maxConcurrent: [33m10[39m,
2025-12-09T09:17:12.9321181Z     maxQueue: [33m20[39m,
2025-12-09T09:17:12.9321701Z     totalExecuted: [33m10[39m,
2025-12-09T09:17:12.9322249Z     totalSuccesses: [33m10[39m,
2025-12-09T09:17:12.9322784Z     totalFailures: [33m0[39m,
2025-12-09T09:17:12.9323277Z     utilization: [33m0[39m
2025-12-09T09:17:12.9324003Z   }
2025-12-09T09:17:12.9324300Z }
2025-12-09T09:17:12.9324969Z ✓ Services remained isolated despite different performance
2025-12-09T09:17:12.9325415Z 
2025-12-09T09:17:12.9328913Z  [32m✓[39m src/__tests__/e2e/document-pipeline-resilience.e2e.test.ts [2m([22m[2m6 tests[22m[2m)[22m[33m 35858[2mms[22m[39m
2025-12-09T09:17:12.9331829Z      [33m[2m✓[22m[39m should handle LLM failures with circuit breaker while continuing other stages [33m 3008[2mms[22m[39m
2025-12-09T09:17:12.9333439Z      [33m[2m✓[22m[39m should handle concurrent chunk processing with bulkhead protection [33m 1504[2mms[22m[39m
2025-12-09T09:17:12.9334865Z      [33m[2m✓[22m[39m should recover and continue processing when services recover [33m 3204[2mms[22m[39m
2025-12-09T09:17:12.9336280Z      [33m[2m✓[22m[39m should provide comprehensive health summary across pipeline [33m 24022[2mms[22m[39m
2025-12-09T09:17:12.9337677Z      [33m[2m✓[22m[39m should maintain service isolation when one service is slow [33m 4104[2mms[22m[39m
2025-12-09T09:17:13.0082943Z  [32m✓[39m src/__tests__/integration/error-handling.integration.test.ts [2m([22m[2m16 tests[22m[2m)[22m[32m 19[2mms[22m[39m
2025-12-09T09:17:13.1850224Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould limit concurrent operations and queue overflow properly
2025-12-09T09:17:13.1860740Z [22m[39mLaunching 20 concurrent operations (max 5 concurrent, max 10 queued)...
2025-12-09T09:17:13.1861245Z 
2025-12-09T09:17:13.2575159Z [90mstderr[2m | src/__tests__/integration/concept-repository.integration.test.ts[2m > [22m[2mLanceDBConceptRepository - Integration Tests
2025-12-09T09:17:13.2577310Z [22m[39mConnecting to database: /tmp/concept-rag-test-concept-repo-1765271833256
2025-12-09T09:17:13.2577895Z 
2025-12-09T09:17:13.2735158Z [2025-12-09T09:17:13Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-concept-repo-1765271833256/chunks.lance, it will be created
2025-12-09T09:17:13.2812478Z [2025-12-09T09:17:13Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-concept-repo-1765271833256/concepts.lance, it will be created
2025-12-09T09:17:13.2887858Z [2025-12-09T09:17:13Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-concept-repo-1765271833256/catalog.lance, it will be created
2025-12-09T09:17:13.2938927Z [2025-12-09T09:17:13Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-concept-repo-1765271833256/categories.lance, it will be created
2025-12-09T09:17:13.2958284Z [90mstderr[2m | src/__tests__/integration/concept-repository.integration.test.ts[2m > [22m[2mLanceDBConceptRepository - Integration Tests
2025-12-09T09:17:13.2960842Z [22m[39m✅ Opened table: concepts
2025-12-09T09:17:13.2961178Z 
2025-12-09T09:17:13.3540535Z [90mstderr[2m | src/__tests__/integration/concept-repository.integration.test.ts[2m > [22m[2mLanceDBConceptRepository - Integration Tests
2025-12-09T09:17:13.3542304Z [22m[39m🛑 Database connection closed
2025-12-09T09:17:13.3542635Z 
2025-12-09T09:17:13.3588153Z  [32m✓[39m src/__tests__/integration/concept-repository.integration.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 102[2mms[22m[39m
2025-12-09T09:17:13.5091863Z  [32m✓[39m src/__tests__/test-helpers/integration-test-data.test.ts [2m([22m[2m21 tests[22m[2m)[22m[32m 12[2mms[22m[39m
2025-12-09T09:17:13.8136693Z [90mstderr[2m | src/__tests__/e2e/real-service-integration.e2e.test.ts[2m > [22m[2mE2E: Real Service Resilience Integration[2m > [22m[2mApplicationContainer Integration[2m > [22m[2mshould create ResilientExecutor before initializing services
2025-12-09T09:17:13.8138736Z [22m[39m🏗️  Initializing application container...
2025-12-09T09:17:13.8139972Z ✅ Resilience infrastructure initialized (circuit breaker, bulkhead, timeout)
2025-12-09T09:17:13.8141068Z Connecting to database: /tmp/concept-rag-test-1765271833810
2025-12-09T09:17:13.8141559Z 
2025-12-09T09:17:13.8153883Z [90mstderr[2m | src/__tests__/e2e/real-service-integration.e2e.test.ts[2m > [22m[2mE2E: Real Service Resilience Integration[2m > [22m[2mApplicationContainer Integration[2m > [22m[2mshould create ResilientExecutor before initializing services
2025-12-09T09:17:13.8155130Z [22m[39mOperation failed (attempt 1/2), retrying in 100ms: Failed to open table "chunks"
2025-12-09T09:17:13.8155464Z 
2025-12-09T09:17:13.9185943Z [90mstderr[2m | src/__tests__/e2e/real-service-integration.e2e.test.ts[2m > [22m[2mE2E: Real Service Resilience Integration[2m > [22m[2mApplicationContainer Integration[2m > [22m[2mshould verify resilience is configured with production profiles
2025-12-09T09:17:13.9188049Z [22m[39m🏗️  Initializing application container...
2025-12-09T09:17:13.9189116Z ✅ Resilience infrastructure initialized (circuit breaker, bulkhead, timeout)
2025-12-09T09:17:13.9190297Z Connecting to database: /tmp/concept-rag-test-1765271833810
2025-12-09T09:17:13.9190784Z 
2025-12-09T09:17:13.9223052Z [90mstderr[2m | src/__tests__/e2e/real-service-integration.e2e.test.ts[2m > [22m[2mE2E: Real Service Resilience Integration[2m > [22m[2mApplicationContainer Integration[2m > [22m[2mshould verify resilience is configured with production profiles
2025-12-09T09:17:13.9224322Z [22m[39mOperation failed (attempt 1/2), retrying in 100ms: Failed to open table "chunks"
2025-12-09T09:17:13.9224649Z 
2025-12-09T09:17:14.0285856Z [90mstderr[2m | src/__tests__/e2e/real-service-integration.e2e.test.ts[2m > [22m[2mE2E: Real Service Resilience Integration
2025-12-09T09:17:14.0287858Z [22m[39m🛑 Database connection closed
2025-12-09T09:17:14.0289899Z 
2025-12-09T09:17:14.0291548Z [90mstderr[2m | src/__tests__/e2e/real-service-integration.e2e.test.ts[2m > [22m[2mE2E: Real Service Resilience Integration
2025-12-09T09:17:14.0292959Z [22m[39m🛑 Container shutdown complete
2025-12-09T09:17:14.0293593Z 
2025-12-09T09:17:14.0307635Z  [32m✓[39m src/__tests__/e2e/real-service-integration.e2e.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 219[2mms[22m[39m
2025-12-09T09:17:14.3544596Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:14.3546642Z [22m[39mConnecting to database: /tmp/concept-rag-test-application-container-1765271834352
2025-12-09T09:17:14.3547431Z 
2025-12-09T09:17:14.3706427Z [2025-12-09T09:17:14Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-application-container-1765271834352/chunks.lance, it will be created
2025-12-09T09:17:14.3785138Z [2025-12-09T09:17:14Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-application-container-1765271834352/concepts.lance, it will be created
2025-12-09T09:17:14.3850014Z [2025-12-09T09:17:14Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-application-container-1765271834352/catalog.lance, it will be created
2025-12-09T09:17:14.3895716Z [2025-12-09T09:17:14Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-application-container-1765271834352/categories.lance, it will be created
2025-12-09T09:17:14.3917470Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:14.3918903Z [22m[39m🏗️  Initializing application container...
2025-12-09T09:17:14.3920187Z ✅ Resilience infrastructure initialized (circuit breaker, bulkhead, timeout)
2025-12-09T09:17:14.3934481Z Connecting to database: /tmp/concept-rag-test-application-container-1765271834352
2025-12-09T09:17:14.3935134Z 
2025-12-09T09:17:14.3936483Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:14.3937663Z [22m[39m✅ Opened table: chunks
2025-12-09T09:17:14.3937948Z 
2025-12-09T09:17:14.3939129Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:14.3940295Z [22m[39m✅ Opened table: catalog
2025-12-09T09:17:14.3940479Z 
2025-12-09T09:17:14.3942400Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:14.3943566Z [22m[39m✅ Opened table: concepts
2025-12-09T09:17:14.3943871Z 
2025-12-09T09:17:14.3949866Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:14.3951036Z [22m[39m✅ Opened table: categories
2025-12-09T09:17:14.3951322Z 
2025-12-09T09:17:14.3975810Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:14.3977070Z [22m[39m✅ Categories table found
2025-12-09T09:17:14.3977864Z ✅ Performance caches initialized (embeddings, search results)
2025-12-09T09:17:14.3978565Z ✅ Category repository initialized
2025-12-09T09:17:14.3979053Z ✅ ConceptSearchService initialized (hybrid search enabled)
2025-12-09T09:17:14.3979683Z ✅ Category tools registered (3 tools)
2025-12-09T09:17:14.3980057Z ✅ Container initialized with 10 tool(s)
2025-12-09T09:17:14.3980235Z 
2025-12-09T09:17:14.4082852Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mtool execution[2m > [22m[2mshould execute concept_search tool
2025-12-09T09:17:14.4084526Z [22m[39m🔍 Hierarchical concept search: "clean architecture"
2025-12-09T09:17:14.4084927Z 
2025-12-09T09:17:14.4087164Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mtool execution[2m > [22m[2mshould execute concept_search tool
2025-12-09T09:17:14.4088851Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:14.4089204Z 
2025-12-09T09:17:14.4374069Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mtool execution[2m > [22m[2mshould execute concept_search tool
2025-12-09T09:17:14.4375585Z [22m[39m✅ Found: 2 documents, 2 chunks across 2 sources
2025-12-09T09:17:14.4375834Z 
2025-12-09T09:17:14.6892470Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould limit concurrent operations and queue overflow properly
2025-12-09T09:17:14.6894306Z [22m[39mResults: { successful: [33m15[39m, failed: [33m5[39m, total: [33m20[39m }
2025-12-09T09:17:14.6895530Z ✓ Bulkhead correctly limited concurrency and rejected overflow
2025-12-09T09:17:14.6896237Z 
2025-12-09T09:17:14.6909670Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould handle sustained concurrent load without resource exhaustion
2025-12-09T09:17:14.6913014Z [22m[39mTesting sustained load (100 operations with max 10 concurrent)...
2025-12-09T09:17:14.6913528Z Batch 1/5...
2025-12-09T09:17:14.6913710Z 
2025-12-09T09:17:14.9427783Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould handle sustained concurrent load without resource exhaustion
2025-12-09T09:17:14.9429237Z [22m[39mBatch 2/5...
2025-12-09T09:17:14.9429689Z 
2025-12-09T09:17:15.1932209Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould handle sustained concurrent load without resource exhaustion
2025-12-09T09:17:15.1933480Z [22m[39mBatch 3/5...
2025-12-09T09:17:15.1933707Z 
2025-12-09T09:17:15.4448706Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould handle sustained concurrent load without resource exhaustion
2025-12-09T09:17:15.4450387Z [22m[39mBatch 4/5...
2025-12-09T09:17:15.4450639Z 
2025-12-09T09:17:15.6967378Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould handle sustained concurrent load without resource exhaustion
2025-12-09T09:17:15.6970007Z [22m[39mBatch 5/5...
2025-12-09T09:17:15.6970264Z 
2025-12-09T09:17:15.9481122Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould handle sustained concurrent load without resource exhaustion
2025-12-09T09:17:15.9485354Z [22m[39mSustained load results: { totalOperations: [33m100[39m, successful: [33m100[39m, rejected: [33m0[39m }
2025-12-09T09:17:15.9486610Z ✓ Sustained load handled successfully
2025-12-09T09:17:15.9487970Z 
2025-12-09T09:17:15.9489611Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:15.9491191Z [22m[39mTesting slot release (8 operations with max 3 concurrent)...
2025-12-09T09:17:15.9491841Z 
2025-12-09T09:17:16.9508471Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:16.9514513Z [22m[39mOperation 0 completed in 1002ms (1002ms from start)
2025-12-09T09:17:16.9514980Z 
2025-12-09T09:17:16.9516444Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:16.9518412Z [22m[39mOperation 1 completed in 1002ms (1002ms from start)
2025-12-09T09:17:16.9518870Z 
2025-12-09T09:17:16.9520502Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:16.9522008Z [22m[39mOperation 2 completed in 1002ms (1002ms from start)
2025-12-09T09:17:16.9522431Z 
2025-12-09T09:17:17.8534060Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould limit corpus results to 15 concepts
2025-12-09T09:17:17.8536518Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:17:17.8537509Z 
2025-12-09T09:17:17.8539880Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould limit corpus results to 15 concepts
2025-12-09T09:17:17.8541442Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:17.8541823Z 
2025-12-09T09:17:17.8543368Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould limit corpus results to 15 concepts
2025-12-09T09:17:17.8545336Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:17.8545703Z 
2025-12-09T09:17:17.9513951Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:17.9516761Z [22m[39mOperation 3 completed in 2002ms (2002ms from start)
2025-12-09T09:17:17.9517204Z 
2025-12-09T09:17:17.9518683Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:17.9520435Z [22m[39mOperation 4 completed in 2002ms (2002ms from start)
2025-12-09T09:17:17.9520860Z 
2025-12-09T09:17:17.9522329Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:17.9523904Z [22m[39mOperation 5 completed in 2002ms (2002ms from start)
2025-12-09T09:17:17.9524337Z 
2025-12-09T09:17:18.9512562Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:18.9517984Z [22m[39mOperation 6 completed in 3002ms (3002ms from start)
2025-12-09T09:17:18.9518428Z 
2025-12-09T09:17:18.9520126Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:18.9521650Z [22m[39mOperation 7 completed in 3002ms (3002ms from start)
2025-12-09T09:17:18.9522057Z 
2025-12-09T09:17:18.9527873Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould allow operations to complete as slots become available
2025-12-09T09:17:18.9529742Z [22m[39mResults: { successful: [33m8[39m, failed: [33m0[39m, totalDuration: [32m'3002ms'[39m }
2025-12-09T09:17:18.9531377Z ✓ All operations completed as slots became available
2025-12-09T09:17:18.9531677Z 
2025-12-09T09:17:19.3540674Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould track utilization metrics accurately
2025-12-09T09:17:19.3546476Z [22m[39m✓ Metrics tracked accurately throughout execution
2025-12-09T09:17:19.3546914Z 
2025-12-09T09:17:19.3557325Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould protect multiple resource pools independently
2025-12-09T09:17:19.3558719Z [22m[39mTesting independent bulkheads...
2025-12-09T09:17:19.3560126Z 
2025-12-09T09:17:19.7088106Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mtool execution[2m > [22m[2mshould execute extract_concepts tool
2025-12-09T09:17:19.7090298Z [22m[39m🔍 Searching for document: "architecture"
2025-12-09T09:17:19.7090708Z 
2025-12-09T09:17:19.7170294Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mdependency wiring[2m > [22m[2mshould wire all tools with proper dependencies
2025-12-09T09:17:19.7172456Z [22m[39m🔍 Hierarchical concept search: "test"
2025-12-09T09:17:19.7172865Z 
2025-12-09T09:17:19.7274738Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mdependency wiring[2m > [22m[2mshould wire all tools with proper dependencies
2025-12-09T09:17:19.7277226Z [22m[39m✅ Found: 1 documents, 1 chunks across 1 sources
2025-12-09T09:17:19.7278075Z 
2025-12-09T09:17:19.9574574Z [90mstdout[2m | src/__tests__/e2e/bulkhead-under-load.e2e.test.ts[2m > [22m[2mE2E: Bulkhead Under Load[2m > [22m[2mshould protect multiple resource pools independently
2025-12-09T09:17:19.9576702Z [22m[39mLLM bulkhead: { successful: [33m5[39m, rejected: [33m5[39m }
2025-12-09T09:17:19.9578124Z Embedding bulkhead: { successful: [33m10[39m, rejected: [33m5[39m }
2025-12-09T09:17:19.9579640Z ✓ Independent bulkheads protected resources correctly
2025-12-09T09:17:19.9580314Z 
2025-12-09T09:17:19.9587341Z  [32m✓[39m src/__tests__/e2e/bulkhead-under-load.e2e.test.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 6777[2mms[22m[39m
2025-12-09T09:17:19.9588877Z      [33m[2m✓[22m[39m should limit concurrent operations and queue overflow properly [33m 1508[2mms[22m[39m
2025-12-09T09:17:19.9590551Z      [33m[2m✓[22m[39m should handle sustained concurrent load without resource exhaustion [33m 1258[2mms[22m[39m
2025-12-09T09:17:19.9592004Z      [33m[2m✓[22m[39m should allow operations to complete as slots become available [33m 3004[2mms[22m[39m
2025-12-09T09:17:19.9593267Z      [33m[2m✓[22m[39m should track utilization metrics accurately [33m 402[2mms[22m[39m
2025-12-09T09:17:19.9594506Z      [33m[2m✓[22m[39m should protect multiple resource pools independently [33m 603[2mms[22m[39m
2025-12-09T09:17:20.1697122Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould protect against sustained LLM failures and recover automatically
2025-12-09T09:17:20.1704491Z [22m[39mPhase 1: Testing normal operation...
2025-12-09T09:17:20.1704872Z 
2025-12-09T09:17:20.1728895Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould protect against sustained LLM failures and recover automatically
2025-12-09T09:17:20.1735470Z [22m[39m✓ Phase 1 complete: Circuit is closed, all operations successful
2025-12-09T09:17:20.1736244Z Phase 2: Simulating service failures...
2025-12-09T09:17:20.1736567Z 
2025-12-09T09:17:20.1750100Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould protect against sustained LLM failures and recover automatically
2025-12-09T09:17:20.1752329Z [22m[39mCircuit breaker 'llm_circuit_breaker_e2e': closed → open {
2025-12-09T09:17:20.1754574Z   circuitBreaker: [32m'llm_circuit_breaker_e2e'[39m,
2025-12-09T09:17:20.1755694Z   from: [32m'closed'[39m,
2025-12-09T09:17:20.1757029Z   to: [32m'open'[39m
2025-12-09T09:17:20.1757413Z }
2025-12-09T09:17:20.1757579Z 
2025-12-09T09:17:20.1764586Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould protect against sustained LLM failures and recover automatically
2025-12-09T09:17:20.1766495Z [22m[39m✓ Phase 2 complete: Circuit opened after 5 failures
2025-12-09T09:17:20.1767651Z Phase 3: Testing fast-fail behavior...
2025-12-09T09:17:20.1768258Z 
2025-12-09T09:17:20.1770049Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould protect against sustained LLM failures and recover automatically
2025-12-09T09:17:20.1771456Z [22m[39m✓ Phase 3 complete: Fast-fail in 1ms (circuit open)
2025-12-09T09:17:20.1772088Z Phase 4: Waiting for circuit timeout (5s)...
2025-12-09T09:17:20.1772383Z 
2025-12-09T09:17:20.5875990Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion[2m > [22m[2mshould limit corpus results to 15 concepts
2025-12-09T09:17:20.5877842Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:17:20.5878397Z 
2025-12-09T09:17:20.5883257Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - WordNet expansion[2m > [22m[2mshould include WordNet terms in expansion
2025-12-09T09:17:20.5885177Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:20.5885527Z 
2025-12-09T09:17:20.5886847Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - WordNet expansion[2m > [22m[2mshould include WordNet terms in expansion
2025-12-09T09:17:20.5887720Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:20.5887930Z 
2025-12-09T09:17:22.4398261Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mcleanup[2m > [22m[2mshould allow reinitialization after close
2025-12-09T09:17:22.4403179Z [22m[39m🏗️  Initializing application container...
2025-12-09T09:17:22.4404564Z ✅ Resilience infrastructure initialized (circuit breaker, bulkhead, timeout)
2025-12-09T09:17:22.4405521Z Connecting to database: /tmp/concept-rag-test-application-container-1765271834352
2025-12-09T09:17:22.4405913Z 
2025-12-09T09:17:22.4406953Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mcleanup[2m > [22m[2mshould allow reinitialization after close
2025-12-09T09:17:22.4408055Z [22m[39m✅ Opened table: chunks
2025-12-09T09:17:22.4408337Z 
2025-12-09T09:17:22.4414296Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mcleanup[2m > [22m[2mshould allow reinitialization after close
2025-12-09T09:17:22.4416023Z [22m[39m✅ Opened table: catalog
2025-12-09T09:17:22.4416370Z 
2025-12-09T09:17:22.4420157Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mcleanup[2m > [22m[2mshould allow reinitialization after close
2025-12-09T09:17:22.4421914Z [22m[39m✅ Opened table: concepts
2025-12-09T09:17:22.4422248Z 
2025-12-09T09:17:22.4424281Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mcleanup[2m > [22m[2mshould allow reinitialization after close
2025-12-09T09:17:22.4425954Z [22m[39m✅ Opened table: categories
2025-12-09T09:17:22.4426273Z 
2025-12-09T09:17:22.4428180Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mcleanup[2m > [22m[2mshould allow reinitialization after close
2025-12-09T09:17:22.4430045Z [22m[39m✅ Categories table found
2025-12-09T09:17:22.4431360Z ✅ Performance caches initialized (embeddings, search results)
2025-12-09T09:17:22.4432282Z ✅ Category repository initialized
2025-12-09T09:17:22.4433174Z ✅ ConceptSearchService initialized (hybrid search enabled)
2025-12-09T09:17:22.4434051Z ✅ Category tools registered (3 tools)
2025-12-09T09:17:22.4434799Z ✅ Container initialized with 10 tool(s)
2025-12-09T09:17:22.4435133Z 
2025-12-09T09:17:22.4436891Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mcleanup[2m > [22m[2mshould allow reinitialization after close
2025-12-09T09:17:22.4438587Z [22m[39m🛑 Database connection closed
2025-12-09T09:17:22.4438918Z 
2025-12-09T09:17:22.4440957Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests[2m > [22m[2mcleanup[2m > [22m[2mshould allow reinitialization after close
2025-12-09T09:17:22.4442757Z [22m[39m🛑 Container shutdown complete
2025-12-09T09:17:22.4443125Z 
2025-12-09T09:17:22.4444348Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:22.4445898Z [22m[39m🛑 Database connection closed
2025-12-09T09:17:22.4446247Z 
2025-12-09T09:17:22.4447469Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:22.4448746Z [22m[39m🛑 Container shutdown complete
2025-12-09T09:17:22.4449106Z 
2025-12-09T09:17:22.4450522Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts[2m > [22m[2mApplicationContainer Integration Tests
2025-12-09T09:17:22.4451841Z [22m[39m🛑 Database connection closed
2025-12-09T09:17:22.4452179Z 
2025-12-09T09:17:22.4473830Z [90mstderr[2m | src/__tests__/integration/application-container.integration.test.ts
2025-12-09T09:17:22.4475936Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:22.4476327Z 
2025-12-09T09:17:22.4480584Z  [32m✓[39m src/__tests__/integration/application-container.integration.test.ts [2m([22m[2m21 tests[22m[2m)[22m[33m 8095[2mms[22m[39m
2025-12-09T09:17:22.4481879Z        [33m[2m✓[22m[39m should execute catalog_search tool [33m 2593[2mms[22m[39m
2025-12-09T09:17:22.4484930Z        [33m[2m✓[22m[39m should execute broad_chunks_search tool [33m 2677[2mms[22m[39m
2025-12-09T09:17:22.4487106Z        [33m[2m✓[22m[39m should wire all tools with proper dependencies [33m 2721[2mms[22m[39m
2025-12-09T09:17:23.2004669Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - WordNet expansion[2m > [22m[2mshould apply 60% weight to WordNet terms
2025-12-09T09:17:23.2005685Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:23.2005917Z 
2025-12-09T09:17:23.2006863Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - WordNet expansion[2m > [22m[2mshould apply 60% weight to WordNet terms
2025-12-09T09:17:23.2007731Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:23.2007972Z 
2025-12-09T09:17:23.8535463Z  [32m✓[39m src/infrastructure/cache/__tests__/search-result-cache.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 1262[2mms[22m[39m
2025-12-09T09:17:23.8537200Z        [33m[2m✓[22m[39m should expire entries after TTL [33m 1101[2mms[22m[39m
2025-12-09T09:17:23.9915394Z [90mstdout[2m | src/infrastructure/search/__tests__/scoring-strategies.bench.ts[2m > [22m[2mScoring Functions Performance Benchmarks[2m > [22m[2mcalculateVectorScore[2m > [22m[2mshould benchmark vector score calculation
2025-12-09T09:17:23.9917365Z [22m[39mcalculateVectorScore: 0.0002ms per call (1000 iterations)
2025-12-09T09:17:23.9917838Z 
2025-12-09T09:17:23.9995833Z [90mstdout[2m | src/infrastructure/search/__tests__/scoring-strategies.bench.ts[2m > [22m[2mScoring Functions Performance Benchmarks[2m > [22m[2mcalculateWeightedBM25[2m > [22m[2mshould benchmark BM25 on short documents
2025-12-09T09:17:23.9999057Z [22m[39mcalculateWeightedBM25 (short): 0.0067ms per call (1000 iterations)
2025-12-09T09:17:24.0000892Z 
2025-12-09T09:17:24.0074384Z [90mstdout[2m | src/infrastructure/search/__tests__/scoring-strategies.bench.ts[2m > [22m[2mScoring Functions Performance Benchmarks[2m > [22m[2mcalculateWeightedBM25[2m > [22m[2mshould benchmark BM25 on medium documents
2025-12-09T09:17:24.0076450Z [22m[39mcalculateWeightedBM25 (medium): 0.0074ms per call (1000 iterations)
2025-12-09T09:17:24.0077006Z 
2025-12-09T09:17:24.0957340Z [90mstdout[2m | src/infrastructure/search/__tests__/scoring-strategies.bench.ts[2m > [22m[2mScoring Functions Performance Benchmarks[2m > [22m[2mcalculateWeightedBM25[2m > [22m[2mshould benchmark BM25 on long documents
2025-12-09T09:17:24.0961165Z [22m[39mcalculateWeightedBM25 (long): 0.0876ms per call (1000 iterations)
2025-12-09T09:17:24.0961747Z 
2025-12-09T09:17:24.0988018Z [90mstdout[2m | src/infrastructure/search/__tests__/scoring-strategies.bench.ts[2m > [22m[2mScoring Functions Performance Benchmarks[2m > [22m[2mcalculateTitleScore[2m > [22m[2mshould benchmark title score calculation
2025-12-09T09:17:24.0990542Z [22m[39mcalculateTitleScore: 0.0024ms per call (1000 iterations)
2025-12-09T09:17:24.0991012Z 
2025-12-09T09:17:24.1361552Z [90mstdout[2m | src/infrastructure/search/__tests__/scoring-strategies.bench.ts[2m > [22m[2mScoring Functions Performance Benchmarks[2m > [22m[2mcalculateConceptScore[2m > [22m[2mshould benchmark concept score calculation
2025-12-09T09:17:24.1363397Z [22m[39mcalculateConceptScore: 0.0364ms per call (1000 iterations)
2025-12-09T09:17:24.1363838Z 
2025-12-09T09:17:24.1375240Z [90mstdout[2m | src/infrastructure/search/__tests__/scoring-strategies.bench.ts[2m > [22m[2mScoring Functions Performance Benchmarks[2m > [22m[2mcalculateWordNetBonus[2m > [22m[2mshould benchmark WordNet bonus calculation
2025-12-09T09:17:24.1376959Z [22m[39mcalculateWordNetBonus: 0.0011ms per call (1000 iterations)
2025-12-09T09:17:24.1377384Z 
2025-12-09T09:17:24.1382503Z [90mstdout[2m | src/infrastructure/search/__tests__/scoring-strategies.bench.ts[2m > [22m[2mScoring Functions Performance Benchmarks[2m > [22m[2mcalculateHybridScore[2m > [22m[2mshould benchmark hybrid score calculation
2025-12-09T09:17:24.1384220Z [22m[39mcalculateHybridScore: 0.0003ms per call (1000 iterations)
2025-12-09T09:17:24.1384660Z 
2025-12-09T09:17:24.1482205Z [90mstdout[2m | src/infrastructure/search/__tests__/scoring-strategies.bench.ts[2m > [22m[2mScoring Functions Performance Benchmarks[2m > [22m[2mend-to-end scoring pipeline[2m > [22m[2mshould benchmark complete scoring pipeline
2025-12-09T09:17:24.1487428Z [22m[39mComplete scoring pipeline: 0.0086ms per call (1000 iterations)
2025-12-09T09:17:24.1487934Z 
2025-12-09T09:17:24.1504951Z  [32m✓[39m src/infrastructure/search/__tests__/scoring-strategies.bench.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 160[2mms[22m[39m
2025-12-09T09:17:24.4788272Z [2025-12-09T09:17:24Z WARN  lance::dataset::write::insert] No existing dataset at ./test_db_concept_rebuild/catalog.lance, it will be created
2025-12-09T09:17:24.4993714Z  [32m✓[39m src/__tests__/integration/concept-index-rebuild.integration.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 36[2mms[22m[39m
2025-12-09T09:17:24.6614525Z  [32m✓[39m src/domain/services/validation/__tests__/InputValidator.test.ts [2m([22m[2m31 tests[22m[2m)[22m[32m 12[2mms[22m[39m
2025-12-09T09:17:24.9088692Z  [32m✓[39m src/infrastructure/document-loaders/__tests__/document-loader-factory.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 11[2mms[22m[39m
2025-12-09T09:17:25.1578971Z [90mstderr[2m | src/__tests__/integration/references-detection.integration.test.ts[2m > [22m[2mReferences Detection - Integration with Sample Papers
2025-12-09T09:17:25.1583913Z [22m[39mSample papers not found, skipping integration tests
2025-12-09T09:17:25.1584353Z 
2025-12-09T09:17:25.1639960Z  [32m✓[39m src/__tests__/integration/references-detection.integration.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 7[2mms[22m[39m
2025-12-09T09:17:25.2836574Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould protect against sustained LLM failures and recover automatically
2025-12-09T09:17:25.2838304Z [22m[39m✓ Phase 4 complete: Circuit transitioned to half-open
2025-12-09T09:17:25.2838953Z Phase 5: Testing recovery...
2025-12-09T09:17:25.2840004Z Circuit breaker 'llm_circuit_breaker_e2e': open → half-open {
2025-12-09T09:17:25.2840904Z   circuitBreaker: [32m'llm_circuit_breaker_e2e'[39m,
2025-12-09T09:17:25.2841550Z   from: [32m'open'[39m,
2025-12-09T09:17:25.2842049Z   to: [32m'half-open'[39m
2025-12-09T09:17:25.2842436Z }
2025-12-09T09:17:25.2842614Z 
2025-12-09T09:17:25.2844221Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould protect against sustained LLM failures and recover automatically
2025-12-09T09:17:25.2845937Z [22m[39mCircuit breaker 'llm_circuit_breaker_e2e': half-open → closed {
2025-12-09T09:17:25.2847434Z   circuitBreaker: [32m'llm_circuit_breaker_e2e'[39m,
2025-12-09T09:17:25.2848224Z   from: [32m'half-open'[39m,
2025-12-09T09:17:25.2848741Z   to: [32m'closed'[39m
2025-12-09T09:17:25.2849126Z }
2025-12-09T09:17:25.2849289Z 
2025-12-09T09:17:25.2851061Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould protect against sustained LLM failures and recover automatically
2025-12-09T09:17:25.2852635Z [22m[39m✓ Phase 5 complete: Circuit recovered and closed
2025-12-09T09:17:25.2853347Z Phase 6: Verifying normal operation resumed...
2025-12-09T09:17:25.2853722Z 
2025-12-09T09:17:25.2855331Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould protect against sustained LLM failures and recover automatically
2025-12-09T09:17:25.2856958Z [22m[39m✓ Phase 6 complete: Normal operation resumed successfully
2025-12-09T09:17:25.2857594Z Final stats: {
2025-12-09T09:17:25.2858128Z   circuitState: [32m'closed'[39m,
2025-12-09T09:17:25.2858723Z   totalRequests: [33m11[39m,
2025-12-09T09:17:25.2859261Z   totalSuccesses: [33m5[39m,
2025-12-09T09:17:25.2859993Z   totalFailures: [33m5[39m,
2025-12-09T09:17:25.2860497Z   rejections: [33m1[39m,
2025-12-09T09:17:25.2861068Z   mockServiceCalls: [33m13[39m
2025-12-09T09:17:25.2861487Z }
2025-12-09T09:17:25.2861665Z 
2025-12-09T09:17:25.2901937Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould track metrics accurately through full cycle
2025-12-09T09:17:25.2904417Z [22m[39mCircuit breaker 'llm_metrics_tracking': closed → open { circuitBreaker: [32m'llm_metrics_tracking'[39m, from: [32m'closed'[39m, to: [32m'open'[39m }
2025-12-09T09:17:25.2905366Z 
2025-12-09T09:17:25.3324006Z  [32m✓[39m src/domain/exceptions/__tests__/exceptions.test.ts [2m([22m[2m24 tests[22m[2m)[22m[32m 15[2mms[22m[39m
2025-12-09T09:17:25.4774295Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould return hypernyms for a word
2025-12-09T09:17:25.4775962Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:25.4776352Z 
2025-12-09T09:17:25.4777924Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould return hypernyms for a word
2025-12-09T09:17:25.4779725Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:25.4780124Z 
2025-12-09T09:17:26.0692801Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - WordNet expansion[2m > [22m[2mshould not duplicate original terms in WordNet terms
2025-12-09T09:17:26.0694352Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:26.0694714Z 
2025-12-09T09:17:26.0695916Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - WordNet expansion[2m > [22m[2mshould not duplicate original terms in WordNet terms
2025-12-09T09:17:26.0696804Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:26.0697008Z 
2025-12-09T09:17:27.3931907Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould track metrics accurately through full cycle
2025-12-09T09:17:27.3937217Z [22m[39mCircuit breaker 'llm_metrics_tracking': open → half-open {
2025-12-09T09:17:27.3940939Z   circuitBreaker: [32m'llm_metrics_tracking'[39m,
2025-12-09T09:17:27.3941636Z   from: [32m'open'[39m,
2025-12-09T09:17:27.3942127Z   to: [32m'half-open'[39m
2025-12-09T09:17:27.3942540Z }
2025-12-09T09:17:27.3942728Z 
2025-12-09T09:17:27.3947719Z [90mstdout[2m | src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts[2m > [22m[2mE2E: LLM Circuit Breaker[2m > [22m[2mshould track metrics accurately through full cycle
2025-12-09T09:17:27.3953248Z [22m[39mCircuit breaker 'llm_metrics_tracking': half-open → closed {
2025-12-09T09:17:27.3954159Z   circuitBreaker: [32m'llm_metrics_tracking'[39m,
2025-12-09T09:17:27.3954825Z   from: [32m'half-open'[39m,
2025-12-09T09:17:27.3955321Z   to: [32m'closed'[39m
2025-12-09T09:17:27.3955714Z }
2025-12-09T09:17:27.3955889Z 
2025-12-09T09:17:27.3956769Z  [32m✓[39m src/__tests__/e2e/llm-circuit-breaker.e2e.test.ts [2m([22m[2m3 tests[22m[2m)[22m[33m 7228[2mms[22m[39m
2025-12-09T09:17:27.3958307Z      [33m[2m✓[22m[39m should protect against sustained LLM failures and recover automatically [33m 5119[2mms[22m[39m
2025-12-09T09:17:27.3959889Z      [33m[2m✓[22m[39m should track metrics accurately through full cycle [33m 2105[2mms[22m[39m
2025-12-09T09:17:27.6752883Z [90mstderr[2m | src/__tests__/integration/search-filtering.integration.test.ts[2m > [22m[2mSearch Filtering - Integration
2025-12-09T09:17:27.6753981Z [22m[39m
2025-12-09T09:17:27.6754879Z ⚠️  Test database not found at ./test-db. Search filtering tests will be skipped.
2025-12-09T09:17:27.6755610Z 
2025-12-09T09:17:27.6755819Z 
2025-12-09T09:17:27.6806950Z  [32m✓[39m src/__tests__/integration/search-filtering.integration.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 6[2mms[22m[39m
2025-12-09T09:17:27.8817606Z  [32m✓[39m src/application/config/__tests__/configuration.test.ts [2m([22m[2m22 tests[22m[2m)[22m[32m 12[2mms[22m[39m
2025-12-09T09:17:28.2613434Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould return empty array for unknown word
2025-12-09T09:17:28.2615483Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.2616132Z 
2025-12-09T09:17:28.2617780Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould return empty array for unknown word
2025-12-09T09:17:28.2619060Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.2619358Z 
2025-12-09T09:17:28.3631639Z  [32m✓[39m src/infrastructure/cache/__tests__/lru-cache.test.ts [2m([22m[2m25 tests[22m[2m)[22m[32m 297[2mms[22m[39m
2025-12-09T09:17:28.5741965Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould return statistics about pre-warming
2025-12-09T09:17:28.5743839Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.5744369Z 
2025-12-09T09:17:28.5751571Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould return statistics about pre-warming
2025-12-09T09:17:28.5762472Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.5763894Z 
2025-12-09T09:17:28.5765320Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould return statistics about pre-warming
2025-12-09T09:17:28.5766663Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.5766994Z 
2025-12-09T09:17:28.5768302Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould return statistics about pre-warming
2025-12-09T09:17:28.5769737Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.5770042Z 
2025-12-09T09:17:28.5771433Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould return statistics about pre-warming
2025-12-09T09:17:28.5772647Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.5773402Z 
2025-12-09T09:17:28.5774656Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould return statistics about pre-warming
2025-12-09T09:17:28.5775861Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.5776154Z 
2025-12-09T09:17:28.5777396Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould return statistics about pre-warming
2025-12-09T09:17:28.5778578Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.5778874Z 
2025-12-09T09:17:28.5780326Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould return statistics about pre-warming
2025-12-09T09:17:28.5781543Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.5781858Z 
2025-12-09T09:17:28.5783077Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould return statistics about pre-warming
2025-12-09T09:17:28.5784267Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:28.5784565Z 
2025-12-09T09:17:32.4544205Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould return lowercase terms
2025-12-09T09:17:32.4550352Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:32.4551008Z 
2025-12-09T09:17:32.4553250Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould return lowercase terms
2025-12-09T09:17:32.4554698Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:32.4555053Z 
2025-12-09T09:17:32.9281556Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould deduplicate terms
2025-12-09T09:17:32.9285083Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:32.9286583Z 
2025-12-09T09:17:32.9292271Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould deduplicate terms
2025-12-09T09:17:32.9293534Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:32.9295165Z 
2025-12-09T09:17:33.0146478Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - weight combination[2m > [22m[2mshould prioritize original terms over corpus terms
2025-12-09T09:17:33.0152745Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:17:33.0154578Z 
2025-12-09T09:17:33.0182183Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - weight combination[2m > [22m[2mshould prioritize original terms over corpus terms
2025-12-09T09:17:33.0184143Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:33.0184856Z 
2025-12-09T09:17:33.0186885Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - weight combination[2m > [22m[2mshould prioritize original terms over corpus terms
2025-12-09T09:17:33.0188545Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:33.0188954Z 
2025-12-09T09:17:36.6758962Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould support depth parameter
2025-12-09T09:17:36.6760450Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:36.6760758Z 
2025-12-09T09:17:36.6762414Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould support depth parameter
2025-12-09T09:17:36.6763969Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:36.6764254Z 
2025-12-09T09:17:37.2956613Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould skip very short terms
2025-12-09T09:17:37.2958099Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:37.2958478Z 
2025-12-09T09:17:37.2960147Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould skip very short terms
2025-12-09T09:17:37.2961645Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:37.2962019Z 
2025-12-09T09:17:37.3033063Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - weight combination[2m > [22m[2mshould use maximum weight when term appears in multiple sources
2025-12-09T09:17:37.3040866Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:17:37.3048595Z 
2025-12-09T09:17:37.3079325Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - weight combination[2m > [22m[2mshould use maximum weight when term appears in multiple sources
2025-12-09T09:17:37.3111300Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:37.3111703Z 
2025-12-09T09:17:37.3113906Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - weight combination[2m > [22m[2mshould use maximum weight when term appears in multiple sources
2025-12-09T09:17:37.3115588Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:37.3115982Z 
2025-12-09T09:17:41.6871393Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - weight combination[2m > [22m[2mshould combine all term sources correctly
2025-12-09T09:17:41.6874226Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:41.6875864Z 
2025-12-09T09:17:41.6879651Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - weight combination[2m > [22m[2mshould combine all term sources correctly
2025-12-09T09:17:41.6886247Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:41.6886613Z 
2025-12-09T09:17:41.7365995Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould skip cached terms when skipCached is true
2025-12-09T09:17:41.7368266Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:41.7380650Z 
2025-12-09T09:17:41.7383952Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould skip cached terms when skipCached is true
2025-12-09T09:17:41.7386392Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:41.7386788Z 
2025-12-09T09:17:46.1038045Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould call progress callback
2025-12-09T09:17:46.1042143Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:46.1044320Z 
2025-12-09T09:17:46.1047883Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould call progress callback
2025-12-09T09:17:46.1049852Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:46.1052062Z 
2025-12-09T09:17:50.1775254Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - edge cases[2m > [22m[2mshould handle very long query
2025-12-09T09:17:50.1777615Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:50.1778244Z 
2025-12-09T09:17:50.1780142Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - edge cases[2m > [22m[2mshould handle very long query
2025-12-09T09:17:50.1781642Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:50.1782183Z 
2025-12-09T09:17:50.1783670Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - edge cases[2m > [22m[2mshould handle very long query
2025-12-09T09:17:50.1785159Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:50.1785623Z 
2025-12-09T09:17:50.1786881Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - edge cases[2m > [22m[2mshould handle very long query
2025-12-09T09:17:50.1788141Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:50.1788579Z 
2025-12-09T09:17:50.1790092Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - edge cases[2m > [22m[2mshould handle very long query
2025-12-09T09:17:50.1791523Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:50.1792004Z 
2025-12-09T09:17:50.4436279Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould handle empty terms array
2025-12-09T09:17:50.4440671Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:50.4444650Z 
2025-12-09T09:17:50.4451052Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould handle empty terms array
2025-12-09T09:17:50.4452709Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:50.4457479Z 
2025-12-09T09:17:50.4462777Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould respect concurrency setting
2025-12-09T09:17:50.4464433Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:50.4467710Z 
2025-12-09T09:17:50.4472999Z [90mstderr[2m | src/wordnet/__tests__/wordnet-prewarm.test.ts[2m > [22m[2mWordNetService Pre-warming[2m > [22m[2mprewarmCache[2m > [22m[2mshould respect concurrency setting
2025-12-09T09:17:50.4474798Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:17:50.4476955Z 
2025-12-09T09:18:03.5676011Z  [32m✓[39m src/wordnet/__tests__/wordnet-prewarm.test.ts [2m([22m[2m15 tests[22m[2m)[22m[33m 35006[2mms[22m[39m
2025-12-09T09:18:03.5709618Z        [33m[2m✓[22m[39m should return statistics about pre-warming [33m 4355[2mms[22m[39m
2025-12-09T09:18:03.5710905Z        [33m[2m✓[22m[39m should deduplicate terms [33m 4368[2mms[22m[39m
2025-12-09T09:18:03.5712063Z        [33m[2m✓[22m[39m should skip very short terms [33m 4439[2mms[22m[39m
2025-12-09T09:18:03.5713343Z        [33m[2m✓[22m[39m should skip cached terms when skipCached is true [33m 4368[2mms[22m[39m
2025-12-09T09:18:03.5714678Z        [33m[2m✓[22m[39m should call progress callback [33m 4341[2mms[22m[39m
2025-12-09T09:18:03.5715799Z        [33m[2m✓[22m[39m should respect concurrency setting [33m 13121[2mms[22m[39m
2025-12-09T09:18:03.5761112Z [90mstderr[2m | WordNetService.loadCache (/home/runner/work/concept-rag/concept-rag/src/wordnet/wordnet_service.ts:50:21)
2025-12-09T09:18:03.5762589Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:03.5763065Z 
2025-12-09T09:18:03.8244888Z [90mstderr[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks
2025-12-09T09:18:03.8252979Z [22m[39mConnecting to database: /tmp/concept-rag-test-cache-operations-bench-1765271883822
2025-12-09T09:18:03.8253617Z 
2025-12-09T09:18:03.8411060Z [2025-12-09T09:18:03Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-cache-operations-bench-1765271883822/chunks.lance, it will be created
2025-12-09T09:18:03.8516326Z [2025-12-09T09:18:03Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-cache-operations-bench-1765271883822/concepts.lance, it will be created
2025-12-09T09:18:03.8571576Z [2025-12-09T09:18:03Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-cache-operations-bench-1765271883822/catalog.lance, it will be created
2025-12-09T09:18:03.8609779Z [2025-12-09T09:18:03Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-cache-operations-bench-1765271883822/categories.lance, it will be created
2025-12-09T09:18:03.8630489Z [90mstderr[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks
2025-12-09T09:18:03.8631776Z [22m[39m✅ Opened table: concepts
2025-12-09T09:18:03.8635199Z 
2025-12-09T09:18:03.8640954Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks
2025-12-09T09:18:03.8642123Z [22m[39m[ConceptIdCache] Cache cleared
2025-12-09T09:18:03.8642644Z [ConceptIdCache] Loading concepts...
2025-12-09T09:18:03.8642922Z 
2025-12-09T09:18:03.8732070Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks
2025-12-09T09:18:03.8734074Z [22m[39m[ConceptIdCache] Loaded 5 concepts in 10ms
2025-12-09T09:18:03.8734828Z 
2025-12-09T09:18:03.8743022Z [90mstderr[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks
2025-12-09T09:18:03.8746750Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks
2025-12-09T09:18:03.8748128Z [22m[39m🔄 Initializing CategoryIdCache...
2025-12-09T09:18:03.8748603Z 
2025-12-09T09:18:03.8750497Z [22m[39m✅ Opened table: categories
2025-12-09T09:18:03.8754346Z 
2025-12-09T09:18:03.8780053Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks
2025-12-09T09:18:03.8784276Z [22m[39m  📊 Loading 4 categories into cache...
2025-12-09T09:18:03.8785383Z ✅ CategoryIdCache initialized:
2025-12-09T09:18:03.8786089Z    - Categories: 4
2025-12-09T09:18:03.8786442Z    - Aliases: 0
2025-12-09T09:18:03.8787012Z    - Memory: 1 KB
2025-12-09T09:18:03.8787234Z 
2025-12-09T09:18:03.8814778Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks[2m > [22m[2mConceptIdCache operations[2m > [22m[2mshould benchmark getId lookup
2025-12-09T09:18:03.8816652Z [22m[39mConceptIdCache.getId: 0.0003ms per call (1000 iterations)
2025-12-09T09:18:03.8817103Z 
2025-12-09T09:18:03.8818908Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks[2m > [22m[2mConceptIdCache operations[2m > [22m[2mshould benchmark getName lookup
2025-12-09T09:18:03.8820857Z [22m[39mConceptIdCache.getName: 0.0001ms per call (1000 iterations)
2025-12-09T09:18:03.8821294Z 
2025-12-09T09:18:03.8837823Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks[2m > [22m[2mConceptIdCache operations[2m > [22m[2mshould benchmark getIds batch operation
2025-12-09T09:18:03.8840103Z [22m[39mConceptIdCache.getIds (batch 10): 0.0015ms per call (1000 iterations)
2025-12-09T09:18:03.8840624Z 
2025-12-09T09:18:03.8856427Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks[2m > [22m[2mConceptIdCache operations[2m > [22m[2mshould benchmark getNames batch operation
2025-12-09T09:18:03.8858810Z [22m[39mConceptIdCache.getNames (batch 10): 0.0014ms per call (1000 iterations)
2025-12-09T09:18:03.8860852Z 
2025-12-09T09:18:03.8873219Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks[2m > [22m[2mCategoryIdCache operations[2m > [22m[2mshould benchmark getId lookup when available
2025-12-09T09:18:03.8875265Z [22m[39mCategoryIdCache.getId: 0.0003ms per call (1000 iterations)
2025-12-09T09:18:03.8875743Z 
2025-12-09T09:18:03.8886886Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks[2m > [22m[2mCategoryIdCache operations[2m > [22m[2mshould benchmark getName lookup when available
2025-12-09T09:18:03.8888974Z [22m[39mCategoryIdCache.getName: 0.0002ms per call (1000 iterations)
2025-12-09T09:18:03.8893893Z 
2025-12-09T09:18:03.8895830Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks[2m > [22m[2mCategoryIdCache operations[2m > [22m[2mshould benchmark getMetadata lookup when available
2025-12-09T09:18:03.8897887Z [22m[39mCategoryIdCache.getMetadata: 0.0001ms per call (1000 iterations)
2025-12-09T09:18:03.8898383Z 
2025-12-09T09:18:03.8900411Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks[2m > [22m[2mcache statistics[2m > [22m[2mshould benchmark getStats operation
2025-12-09T09:18:03.8902545Z [22m[39mConceptIdCache.getStats: 0.0003ms per call (1000 iterations)
2025-12-09T09:18:03.8903063Z 
2025-12-09T09:18:03.8908333Z [90mstdout[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks
2025-12-09T09:18:03.8912054Z [90mstderr[2m | src/infrastructure/cache/__tests__/cache-operations.bench.ts[2m > [22m[2mCache Operations Performance Benchmarks
2025-12-09T09:18:03.8913288Z [22m[39m[ConceptIdCache] Cache cleared
2025-12-09T09:18:03.8914214Z [22m[39m🛑 Database connection closed
2025-12-09T09:18:03.8914693Z 
2025-12-09T09:18:03.8914991Z 
2025-12-09T09:18:03.8953846Z  [32m✓[39m src/infrastructure/cache/__tests__/cache-operations.bench.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 71[2mms[22m[39m
2025-12-09T09:18:04.2273000Z [90mstderr[2m | src/concepts/__tests__/query_expander.property.test.ts[2m > [22m[2mQuery Expansion Property-Based Tests
2025-12-09T09:18:04.2274726Z [22m[39mConnecting to database: /tmp/concept-rag-test-query-expander-property-1765271884225
2025-12-09T09:18:04.2275422Z 
2025-12-09T09:18:04.2441211Z [2025-12-09T09:18:04Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-query-expander-property-1765271884225/chunks.lance, it will be created
2025-12-09T09:18:04.2537566Z [2025-12-09T09:18:04Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-query-expander-property-1765271884225/concepts.lance, it will be created
2025-12-09T09:18:04.2593211Z [2025-12-09T09:18:04Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-query-expander-property-1765271884225/catalog.lance, it will be created
2025-12-09T09:18:04.2634657Z [2025-12-09T09:18:04Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-query-expander-property-1765271884225/categories.lance, it will be created
2025-12-09T09:18:04.2653487Z [90mstderr[2m | src/concepts/__tests__/query_expander.property.test.ts[2m > [22m[2mQuery Expansion Property-Based Tests
2025-12-09T09:18:04.2654601Z [22m[39m✅ Opened table: concepts
2025-12-09T09:18:04.2654885Z 
2025-12-09T09:18:04.2770976Z [90mstderr[2m | src/concepts/__tests__/query_expander.property.test.ts[2m > [22m[2mQuery Expansion Property-Based Tests[2m > [22m[2mexpandQuery properties[2m > [22m[2mshould handle empty query gracefully
2025-12-09T09:18:04.2773055Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:04.2773443Z 
2025-12-09T09:18:04.2775210Z [90mstderr[2m | src/concepts/__tests__/query_expander.property.test.ts[2m > [22m[2mQuery Expansion Property-Based Tests[2m > [22m[2mexpandQuery properties[2m > [22m[2mshould handle empty query gracefully
2025-12-09T09:18:04.2776875Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:04.2777231Z 
2025-12-09T09:18:04.2855192Z [90mstderr[2m | src/concepts/__tests__/query_expander.property.test.ts[2m > [22m[2mQuery Expansion Property-Based Tests[2m > [22m[2mexpandQuery properties[2m > [22m[2mshould handle empty query gracefully
2025-12-09T09:18:04.2861744Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:04.2862136Z 
2025-12-09T09:18:04.3801776Z [90mstderr[2m | src/concepts/__tests__/query_expander.property.test.ts[2m > [22m[2mQuery Expansion Property-Based Tests
2025-12-09T09:18:04.3803535Z [22m[39m🛑 Database connection closed
2025-12-09T09:18:04.3805898Z 
2025-12-09T09:18:04.3985705Z  [32m✓[39m src/concepts/__tests__/query_expander.property.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 164[2mms[22m[39m
2025-12-09T09:18:04.4652877Z [90mstderr[2m | QueryExpander.expandWithCorpus (/home/runner/work/concept-rag/concept-rag/src/concepts/query_expander.ts:197:21)
2025-12-09T09:18:04.4660166Z [22m[39mCorpus expansion error: Failed to get next batch from stream: lance error: LanceError(IO): Execution error: Query Execution error: Execution error: Not found: tmp/concept-rag-test-query-expander-property-1765271884225/concepts.lance/data/05521632-ba2d-4375-a111-3e74f1aa6fec.lance, /home/build_user/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-io-0.22.0/src/local.rs:100:31, /home/build_user/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-0.22.0/src/io/exec/take.rs:68:46, /home/build_user/.cargo/registry/src/index.crates.io-6f17d22bba15001f/lance-0.22.0/src/dataset/scanner.rs:2329:83
2025-12-09T09:18:04.4689898Z 
2025-12-09T09:18:05.2491372Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2msingle concept[2m > [22m[2mshould return sources for a single concept
2025-12-09T09:18:05.2520435Z [22m[39m🔍 Getting sources for concept(s): "tdd"
2025-12-09T09:18:05.2521173Z 
2025-12-09T09:18:05.2863240Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2msingle concept[2m > [22m[2mshould return sources for a single concept
2025-12-09T09:18:05.2865147Z [22m[39m✅ Retrieved sources for 1 concept(s)
2025-12-09T09:18:05.2865829Z 
2025-12-09T09:18:05.2951491Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2msingle concept[2m > [22m[2mshould return empty array for not found concept
2025-12-09T09:18:05.2953502Z [22m[39m🔍 Getting sources for concept(s): "nonexistent"
2025-12-09T09:18:05.2954074Z 
2025-12-09T09:18:05.2955779Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2msingle concept[2m > [22m[2mshould return empty array for not found concept
2025-12-09T09:18:05.2957436Z [22m[39m⚠️  Concept "nonexistent" not found, adding empty array
2025-12-09T09:18:05.2958199Z ✅ Retrieved sources for 1 concept(s)
2025-12-09T09:18:05.2958517Z 
2025-12-09T09:18:05.2960565Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mmultiple concepts (per-concept arrays)[2m > [22m[2mshould return separate source arrays for each concept
2025-12-09T09:18:05.2962346Z [22m[39m🔍 Getting sources for concept(s): "tdd", "di"
2025-12-09T09:18:05.2962730Z 
2025-12-09T09:18:05.2964592Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mmultiple concepts (per-concept arrays)[2m > [22m[2mshould return separate source arrays for each concept
2025-12-09T09:18:05.2966605Z [22m[39m✅ Retrieved sources for 2 concept(s)
2025-12-09T09:18:05.2966952Z 
2025-12-09T09:18:05.2981700Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mmultiple concepts (per-concept arrays)[2m > [22m[2mshould maintain position correspondence with input
2025-12-09T09:18:05.3020599Z [22m[39m🔍 Getting sources for concept(s): "first", "second", "third"
2025-12-09T09:18:05.3021112Z 
2025-12-09T09:18:05.3023439Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mmultiple concepts (per-concept arrays)[2m > [22m[2mshould maintain position correspondence with input
2025-12-09T09:18:05.3025304Z [22m[39m✅ Retrieved sources for 3 concept(s)
2025-12-09T09:18:05.3025881Z 
2025-12-09T09:18:05.3071886Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mmultiple concepts (per-concept arrays)[2m > [22m[2mshould return empty array for not found concepts at correct position
2025-12-09T09:18:05.3074332Z [22m[39m🔍 Getting sources for concept(s): "nonexistent", "exists", "also-nonexistent"
2025-12-09T09:18:05.3075128Z 
2025-12-09T09:18:05.3077469Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mmultiple concepts (per-concept arrays)[2m > [22m[2mshould return empty array for not found concepts at correct position
2025-12-09T09:18:05.3079320Z [22m[39m⚠️  Concept "nonexistent" not found, adding empty array
2025-12-09T09:18:05.3079905Z 
2025-12-09T09:18:05.3082182Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mmultiple concepts (per-concept arrays)[2m > [22m[2mshould return empty array for not found concepts at correct position
2025-12-09T09:18:05.3084120Z [22m[39m⚠️  Concept "also-nonexistent" not found, adding empty array
2025-12-09T09:18:05.3084896Z ✅ Retrieved sources for 3 concept(s)
2025-12-09T09:18:05.3085202Z 
2025-12-09T09:18:05.3087032Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mmultiple concepts (per-concept arrays)[2m > [22m[2mshould include source metadata (title, author, year)
2025-12-09T09:18:05.3088689Z [22m[39m🔍 Getting sources for concept(s): "test"
2025-12-09T09:18:05.3089042Z 
2025-12-09T09:18:05.3143659Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mmultiple concepts (per-concept arrays)[2m > [22m[2mshould include source metadata (title, author, year)
2025-12-09T09:18:05.3190403Z [22m[39m✅ Retrieved sources for 1 concept(s)
2025-12-09T09:18:05.3213519Z  [32m✓[39m src/tools/operations/__tests__/concept-sources.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 75[2mms[22m[39m
2025-12-09T09:18:05.3219898Z 
2025-12-09T09:18:05.3221328Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mvalidation[2m > [22m[2mshould reject empty concept string
2025-12-09T09:18:05.3222608Z [22m[39m❌ Validation failed: No concepts provided
2025-12-09T09:18:05.3222921Z 
2025-12-09T09:18:05.3224128Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mvalidation[2m > [22m[2mshould reject empty array
2025-12-09T09:18:05.3225325Z [22m[39m❌ Validation failed: No concepts provided
2025-12-09T09:18:05.3225650Z 
2025-12-09T09:18:05.3227035Z [90mstderr[2m | src/tools/operations/__tests__/concept-sources.test.ts[2m > [22m[2mConceptSourcesTool[2m > [22m[2mvalidation[2m > [22m[2mshould reject array of empty strings
2025-12-09T09:18:05.3228334Z [22m[39m❌ Validation failed: No concepts provided
2025-12-09T09:18:05.3228921Z 
2025-12-09T09:18:06.3658442Z  [32m✓[39m src/__tests__/integration/math-content.integration.test.ts [2m([22m[2m8 tests[22m[2m | [22m[33m5 skipped[39m[2m)[22m[32m 20[2mms[22m[39m
2025-12-09T09:18:07.0145282Z  [32m✓[39m src/infrastructure/embeddings/__tests__/embedding-provider-factory.test.ts [2m([22m[2m20 tests[22m[2m)[22m[32m 47[2mms[22m[39m
2025-12-09T09:18:07.9060872Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2msingle concept[2m > [22m[2mshould find all sources for a single concept
2025-12-09T09:18:07.9063205Z [22m[39m🔍 Finding sources for concept(s): "test driven development"
2025-12-09T09:18:07.9064086Z 
2025-12-09T09:18:07.9504018Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2msingle concept[2m > [22m[2mshould find all sources for a single concept
2025-12-09T09:18:07.9506105Z [22m[39m✅ Found 2 unique source(s) for 1 concept(s)
2025-12-09T09:18:07.9506780Z 
2025-12-09T09:18:07.9581373Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2msingle concept[2m > [22m[2mshould return error when concept not found
2025-12-09T09:18:07.9585840Z [22m[39m🔍 Finding sources for concept(s): "nonexistent"
2025-12-09T09:18:07.9589147Z 
2025-12-09T09:18:07.9621591Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2msingle concept[2m > [22m[2mshould return error when concept not found
2025-12-09T09:18:07.9623862Z [22m[39m❌ Source lookup failed: No concepts found: "nonexistent". Try different concept names or check spelling.
2025-12-09T09:18:07.9625098Z 
2025-12-09T09:18:07.9631136Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mmultiple concepts (union)[2m > [22m[2mshould return union of sources with concept_indices
2025-12-09T09:18:07.9632936Z [22m[39m🔍 Finding sources for concept(s): "tdd", "di"
2025-12-09T09:18:07.9633554Z 
2025-12-09T09:18:07.9693101Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mmultiple concepts (union)[2m > [22m[2mshould return union of sources with concept_indices
2025-12-09T09:18:07.9695035Z [22m[39m✅ Found 3 unique source(s) for 2 concept(s)
2025-12-09T09:18:07.9695629Z 
2025-12-09T09:18:07.9703320Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mmultiple concepts (union)[2m > [22m[2mshould sort by number of matching concepts (most first)
2025-12-09T09:18:07.9705597Z [22m[39m🔍 Finding sources for concept(s): "concept1", "concept2"
2025-12-09T09:18:07.9706381Z 
2025-12-09T09:18:07.9715869Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mmultiple concepts (union)[2m > [22m[2mshould sort by number of matching concepts (most first)
2025-12-09T09:18:07.9717959Z [22m[39m✅ Found 2 unique source(s) for 2 concept(s)
2025-12-09T09:18:07.9722665Z 
2025-12-09T09:18:07.9727906Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mmultiple concepts (union)[2m > [22m[2mshould handle partial matches (some concepts not found)
2025-12-09T09:18:07.9733929Z [22m[39m🔍 Finding sources for concept(s): "exists", "nonexistent"
2025-12-09T09:18:07.9738407Z 
2025-12-09T09:18:07.9841546Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mmultiple concepts (union)[2m > [22m[2mshould handle partial matches (some concepts not found)
2025-12-09T09:18:07.9843305Z [22m[39m✅ Found 1 unique source(s) for 1 concept(s)
2025-12-09T09:18:07.9843852Z 
2025-12-09T09:18:07.9845620Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mmultiple concepts (union)[2m > [22m[2mshould return error only when ALL concepts not found
2025-12-09T09:18:07.9847641Z [22m[39m🔍 Finding sources for concept(s): "nope1", "nope2"
2025-12-09T09:18:07.9848198Z 
2025-12-09T09:18:07.9850027Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mmultiple concepts (union)[2m > [22m[2mshould return error only when ALL concepts not found
2025-12-09T09:18:07.9852097Z [22m[39m❌ Source lookup failed: No concepts found: "nope1, nope2". Try different concept names or check spelling.
2025-12-09T09:18:07.9852886Z 
2025-12-09T09:18:07.9854465Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mvalidation[2m > [22m[2mshould reject empty concept
2025-12-09T09:18:07.9855869Z [22m[39m❌ Validation failed: No concepts provided
2025-12-09T09:18:07.9856447Z 
2025-12-09T09:18:07.9858080Z [90mstderr[2m | src/tools/operations/__tests__/source-concepts.test.ts[2m > [22m[2mSourceConceptsTool[2m > [22m[2mvalidation[2m > [22m[2mshould reject empty array
2025-12-09T09:18:07.9859518Z [22m[39m❌ Validation failed: No concepts provided
2025-12-09T09:18:07.9859864Z 
2025-12-09T09:18:07.9890779Z  [32m✓[39m src/tools/operations/__tests__/source-concepts.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 87[2mms[22m[39m
2025-12-09T09:18:08.6696645Z  [32m✓[39m src/domain/services/__tests__/catalog-search-service.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 26[2mms[22m[39m
2025-12-09T09:18:10.8880721Z  [32m✓[39m src/infrastructure/utils/__tests__/shared-rate-limiter.test.ts [2m([22m[2m13 tests[22m[2m)[22m[33m 1607[2mms[22m[39m
2025-12-09T09:18:10.8882939Z        [33m[2m✓[22m[39m should handle 10 concurrent requests correctly [33m 456[2mms[22m[39m
2025-12-09T09:18:12.0167707Z  [32m✓[39m src/infrastructure/document-loaders/__tests__/epub-loader.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 48[2mms[22m[39m
2025-12-09T09:18:12.5638924Z  [32m✓[39m src/wordnet/__tests__/first-synset-strategy.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 25[2mms[22m[39m
2025-12-09T09:18:13.2258159Z [90mstdout[2m | src/tools/operations/__tests__/document-concepts-extract.test.ts[2m > [22m[2mDocumentConceptsExtractTool
2025-12-09T09:18:13.2261774Z [22m[39m[ConceptIdCache] Cache cleared
2025-12-09T09:18:13.2262861Z [ConceptIdCache] Loading concepts...
2025-12-09T09:18:13.2263362Z 
2025-12-09T09:18:13.2264642Z [90mstdout[2m | src/tools/operations/__tests__/document-concepts-extract.test.ts[2m > [22m[2mDocumentConceptsExtractTool
2025-12-09T09:18:13.2265988Z [22m[39m[ConceptIdCache] Loaded 4 concepts in 1ms
2025-12-09T09:18:13.2266623Z 
2025-12-09T09:18:13.2344285Z [90mstderr[2m | src/tools/operations/__tests__/document-concepts-extract.test.ts[2m > [22m[2mDocumentConceptsExtractTool[2m > [22m[2mexecute[2m > [22m[2mshould extract concepts from document in JSON format
2025-12-09T09:18:13.2347295Z [22m[39m🔍 Searching for document: "testing"
2025-12-09T09:18:13.2347874Z 
2025-12-09T09:18:13.2532008Z [90mstderr[2m | src/tools/operations/__tests__/document-concepts-extract.test.ts[2m > [22m[2mDocumentConceptsExtractTool[2m > [22m[2mexecute[2m > [22m[2mshould return error when document not found
2025-12-09T09:18:13.2534129Z [22m[39m🔍 Searching for document: "nonexistent"
2025-12-09T09:18:13.2534831Z 
2025-12-09T09:18:13.2601593Z [90mstderr[2m | src/tools/operations/__tests__/document-concepts-extract.test.ts[2m > [22m[2mDocumentConceptsExtractTool[2m > [22m[2mexecute[2m > [22m[2mshould return empty concepts when document has no concepts
2025-12-09T09:18:13.2603367Z [22m[39m🔍 Searching for document: "doc"
2025-12-09T09:18:13.2603855Z 
2025-12-09T09:18:13.2672015Z [90mstderr[2m | src/tools/operations/__tests__/document-concepts-extract.test.ts[2m > [22m[2mDocumentConceptsExtractTool[2m > [22m[2mexecute[2m > [22m[2mshould format output as markdown when format is markdown
2025-12-09T09:18:13.2678232Z [22m[39m🔍 Searching for document: "testing"
2025-12-09T09:18:13.2678872Z 
2025-12-09T09:18:13.2741862Z [90mstderr[2m | src/tools/operations/__tests__/document-concepts-extract.test.ts[2m > [22m[2mDocumentConceptsExtractTool[2m > [22m[2mexecute[2m > [22m[2mshould exclude summary when include_summary is false
2025-12-09T09:18:13.2743952Z [22m[39m🔍 Searching for document: "testing"
2025-12-09T09:18:13.2746443Z 
2025-12-09T09:18:13.2748180Z [90mstderr[2m | src/tools/operations/__tests__/document-concepts-extract.test.ts[2m > [22m[2mDocumentConceptsExtractTool[2m > [22m[2mexecute[2m > [22m[2mshould handle errors gracefully
2025-12-09T09:18:13.2750024Z [22m[39m🔍 Searching for document: "test"
2025-12-09T09:18:13.2750401Z 
2025-12-09T09:18:13.2763171Z  [32m✓[39m src/tools/operations/__tests__/document-concepts-extract.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 67[2mms[22m[39m
2025-12-09T09:18:13.9114784Z [90mstdout[2m | src/tools/operations/__tests__/conceptual-chunks-search.test.ts[2m > [22m[2mConceptualChunksSearchTool
2025-12-09T09:18:13.9116638Z [22m[39m[ConceptIdCache] Cache cleared
2025-12-09T09:18:13.9117563Z [ConceptIdCache] Loading concepts...
2025-12-09T09:18:13.9118069Z 
2025-12-09T09:18:13.9119199Z [90mstdout[2m | src/tools/operations/__tests__/conceptual-chunks-search.test.ts[2m > [22m[2mConceptualChunksSearchTool
2025-12-09T09:18:13.9120728Z [22m[39m[ConceptIdCache] Loaded 0 concepts in 4ms
2025-12-09T09:18:13.9121249Z 
2025-12-09T09:18:13.9122359Z [90mstdout[2m | src/tools/operations/__tests__/conceptual-chunks-search.test.ts[2m > [22m[2mConceptualChunksSearchTool
2025-12-09T09:18:13.9124196Z [22m[39m[CatalogSourceCache] Loading catalog entries...
2025-12-09T09:18:13.9124742Z 
2025-12-09T09:18:13.9125862Z [90mstdout[2m | src/tools/operations/__tests__/conceptual-chunks-search.test.ts[2m > [22m[2mConceptualChunksSearchTool
2025-12-09T09:18:13.9127235Z [22m[39m[CatalogSourceCache] Loaded 1 catalog entries in 0ms
2025-12-09T09:18:13.9127788Z 
2025-12-09T09:18:13.9322114Z [90mstderr[2m | src/tools/operations/__tests__/conceptual-chunks-search.test.ts[2m > [22m[2mConceptualChunksSearchTool[2m > [22m[2mvalidation[2m > [22m[2mshould require both text and source parameters
2025-12-09T09:18:13.9364148Z  [32m✓[39m src/tools/operations/__tests__/conceptual-chunks-search.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 28[2mms[22m[39m
2025-12-09T09:18:13.9415867Z [22m[39m❌ Validation failed: Required field 'source' is missing
2025-12-09T09:18:13.9416354Z 
2025-12-09T09:18:14.6701961Z  [32m✓[39m src/tools/operations/__tests__/category-search.test.ts [2m([22m[2m2 tests[22m[2m)[22m[32m 36[2mms[22m[39m
2025-12-09T09:18:15.3010891Z  [32m✓[39m src/domain/services/__tests__/chunk-search-service.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 12[2mms[22m[39m
2025-12-09T09:18:15.8921894Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould retry on failure and succeed
2025-12-09T09:18:15.8923600Z [22m[39mOperation failed (attempt 1/3), retrying in 10ms: Temporary failure
2025-12-09T09:18:15.8924258Z 
2025-12-09T09:18:15.9045473Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould exhaust retries and throw last error
2025-12-09T09:18:15.9047363Z [22m[39mOperation failed (attempt 1/3), retrying in 10ms: Persistent failure
2025-12-09T09:18:15.9048063Z 
2025-12-09T09:18:15.9171419Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould exhaust retries and throw last error
2025-12-09T09:18:15.9177377Z [22m[39mOperation failed (attempt 2/3), retrying in 20ms: Persistent failure
2025-12-09T09:18:15.9178234Z 
2025-12-09T09:18:15.9479293Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould use exponential backoff
2025-12-09T09:18:15.9485680Z [22m[39mOperation failed (attempt 1/3), retrying in 100ms: Failure 1
2025-12-09T09:18:15.9490225Z 
2025-12-09T09:18:16.0432336Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould use exponential backoff
2025-12-09T09:18:16.0438487Z [22m[39mOperation failed (attempt 2/3), retrying in 200ms: Failure 2
2025-12-09T09:18:16.0439359Z 
2025-12-09T09:18:16.2482064Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould respect maxDelayMs
2025-12-09T09:18:16.2484031Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Failure 1
2025-12-09T09:18:16.2484829Z 
2025-12-09T09:18:17.2465851Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould respect maxDelayMs
2025-12-09T09:18:17.2468398Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Failure 2
2025-12-09T09:18:17.2468880Z 
2025-12-09T09:18:18.1487733Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould deduplicate results
2025-12-09T09:18:18.1489307Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:18.1489901Z 
2025-12-09T09:18:18.1492908Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetBroaderTerms[2m > [22m[2mshould deduplicate results
2025-12-09T09:18:18.1494375Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:18.1494756Z 
2025-12-09T09:18:19.2499086Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould use retry-after from RateLimitError
2025-12-09T09:18:19.2501205Z [22m[39mOperation failed (attempt 1/3), retrying in 5000ms: Rate limit exceeded for provider 'openai'
2025-12-09T09:18:19.2501877Z 
2025-12-09T09:18:20.1879673Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - edge cases[2m > [22m[2mshould handle special characters in query
2025-12-09T09:18:20.1882528Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:20.1882900Z 
2025-12-09T09:18:20.1884307Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - edge cases[2m > [22m[2mshould handle special characters in query
2025-12-09T09:18:20.1885642Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:20.1885985Z 
2025-12-09T09:18:20.8468779Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetNarrowerTerms[2m > [22m[2mshould return hyponyms for a word
2025-12-09T09:18:20.8482745Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:20.8484730Z 
2025-12-09T09:18:20.8488152Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetNarrowerTerms[2m > [22m[2mshould return hyponyms for a word
2025-12-09T09:18:20.8491949Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:20.8492340Z 
2025-12-09T09:18:24.2531891Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould only retry specified error types when configured
2025-12-09T09:18:24.2534701Z [22m[39mOperation failed (attempt 1/3), retrying in 10ms: Provider error
2025-12-09T09:18:24.2535098Z 
2025-12-09T09:18:24.2628094Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould only retry specified error types when configured
2025-12-09T09:18:24.2631008Z [22m[39mOperation failed (attempt 2/3), retrying in 20ms: Provider error
2025-12-09T09:18:24.2631988Z 
2025-12-09T09:18:24.2847220Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould use default config when not specified
2025-12-09T09:18:24.2850046Z [22m[39mOperation failed (attempt 1/3), retrying in 1000ms: Failure 1
2025-12-09T09:18:24.2850550Z 
2025-12-09T09:18:24.3144989Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetNarrowerTerms[2m > [22m[2mshould return empty array for unknown word
2025-12-09T09:18:24.3147754Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:24.3148167Z 
2025-12-09T09:18:24.3150053Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetNarrowerTerms[2m > [22m[2mshould return empty array for unknown word
2025-12-09T09:18:24.3151647Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:24.3152045Z 
2025-12-09T09:18:25.2860623Z [90mstderr[2m | src/infrastructure/utils/__tests__/retry-service.test.ts[2m > [22m[2mRetryService[2m > [22m[2mshould use default config when not specified
2025-12-09T09:18:25.2862139Z [22m[39mOperation failed (attempt 2/3), retrying in 2000ms: Failure 2
2025-12-09T09:18:25.2862584Z 
2025-12-09T09:18:26.7528650Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetNarrowerTerms[2m > [22m[2mshould return lowercase terms
2025-12-09T09:18:26.7531590Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:26.7531955Z 
2025-12-09T09:18:26.7533729Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetNarrowerTerms[2m > [22m[2mshould return lowercase terms
2025-12-09T09:18:26.7535103Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:26.7535464Z 
2025-12-09T09:18:27.2896537Z  [32m✓[39m src/infrastructure/utils/__tests__/retry-service.test.ts [2m([22m[2m10 tests[22m[2m)[22m[33m 11409[2mms[22m[39m
2025-12-09T09:18:27.2897937Z      [33m[2m✓[22m[39m should use exponential backoff [33m 302[2mms[22m[39m
2025-12-09T09:18:27.2898991Z      [33m[2m✓[22m[39m should respect maxDelayMs [33m 3004[2mms[22m[39m
2025-12-09T09:18:27.2900307Z      [33m[2m✓[22m[39m should use retry-after from RateLimitError [33m 5003[2mms[22m[39m
2025-12-09T09:18:27.2901507Z      [33m[2m✓[22m[39m should use default config when not specified [33m 3003[2mms[22m[39m
2025-12-09T09:18:27.4940301Z  [32m✓[39m src/infrastructure/lancedb/utils/__tests__/field-parsers.test.ts [2m([22m[2m18 tests[22m[2m)[22m[32m 10[2mms[22m[39m
2025-12-09T09:18:27.7736523Z [90mstderr[2m | src/tools/operations/__tests__/conceptual-catalog-search.test.ts[2m > [22m[2mConceptualCatalogSearchTool[2m > [22m[2mvalidation[2m > [22m[2mshould require text parameter
2025-12-09T09:18:27.7743879Z [22m[39m❌ Validation failed: Required field 'text' is missing
2025-12-09T09:18:27.7744344Z 
2025-12-09T09:18:27.7754280Z  [32m✓[39m src/tools/operations/__tests__/conceptual-catalog-search.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 13[2mms[22m[39m
2025-12-09T09:18:28.0429829Z [90mstderr[2m | src/tools/operations/__tests__/conceptual-broad-chunks-search.test.ts[2m > [22m[2mConceptualBroadChunksSearchTool[2m > [22m[2mvalidation[2m > [22m[2mshould require text parameter
2025-12-09T09:18:28.0431796Z [22m[39m❌ Validation failed: Required field 'text' is missing
2025-12-09T09:18:28.0432250Z 
2025-12-09T09:18:28.0441257Z  [32m✓[39m src/tools/operations/__tests__/conceptual-broad-chunks-search.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 12[2mms[22m[39m
2025-12-09T09:18:28.2841729Z  [32m✓[39m src/infrastructure/lancedb/seeding/__tests__/seeding-utils.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 6[2mms[22m[39m
2025-12-09T09:18:28.4252773Z  [32m✓[39m src/domain/services/__tests__/concept-search-service.test.ts [2m([22m[2m1 test[22m[2m)[22m[32m 3[2mms[22m[39m
2025-12-09T09:18:28.7001785Z  [32m✓[39m src/infrastructure/document-loaders/__tests__/pdf-loader.test.ts [2m([22m[2m11 tests[22m[2m)[22m[32m 13[2mms[22m[39m
2025-12-09T09:18:28.9481648Z [90mstderr[2m | src/concepts/__tests__/query_expander.bench.ts[2m > [22m[2mQuery Expansion Performance Benchmarks
2025-12-09T09:18:28.9484512Z [22m[39mConnecting to database: /tmp/concept-rag-test-query-expander-bench-1765271908945
2025-12-09T09:18:28.9485137Z 
2025-12-09T09:18:28.9655320Z [2025-12-09T09:18:28Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-query-expander-bench-1765271908945/chunks.lance, it will be created
2025-12-09T09:18:28.9749901Z [2025-12-09T09:18:28Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-query-expander-bench-1765271908945/concepts.lance, it will be created
2025-12-09T09:18:28.9832656Z [2025-12-09T09:18:28Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-query-expander-bench-1765271908945/catalog.lance, it will be created
2025-12-09T09:18:28.9875314Z [2025-12-09T09:18:28Z WARN  lance::dataset::write::insert] No existing dataset at /tmp/concept-rag-test-query-expander-bench-1765271908945/categories.lance, it will be created
2025-12-09T09:18:28.9890948Z [90mstderr[2m | src/concepts/__tests__/query_expander.bench.ts[2m > [22m[2mQuery Expansion Performance Benchmarks
2025-12-09T09:18:28.9893029Z [22m[39m✅ Opened table: concepts
2025-12-09T09:18:28.9893347Z 
2025-12-09T09:18:28.9937818Z [90mstderr[2m | src/concepts/__tests__/query_expander.bench.ts[2m > [22m[2mQuery Expansion Performance Benchmarks[2m > [22m[2mexpandQuery[2m > [22m[2mshould benchmark expansion for short queries
2025-12-09T09:18:28.9948872Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:28.9949804Z 
2025-12-09T09:18:28.9951717Z [90mstderr[2m | src/concepts/__tests__/query_expander.bench.ts[2m > [22m[2mQuery Expansion Performance Benchmarks[2m > [22m[2mexpandQuery[2m > [22m[2mshould benchmark expansion for short queries
2025-12-09T09:18:28.9953107Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:28.9953410Z 
2025-12-09T09:18:29.5585300Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould handle empty corpus results
2025-12-09T09:18:29.5588285Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:29.5594070Z 
2025-12-09T09:18:29.5595831Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould handle empty corpus results
2025-12-09T09:18:29.5597384Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:29.5597754Z 
2025-12-09T09:18:30.0124949Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetNarrowerTerms[2m > [22m[2mshould support depth parameter
2025-12-09T09:18:30.0147022Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:30.0147410Z 
2025-12-09T09:18:30.0148970Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetNarrowerTerms[2m > [22m[2mshould support depth parameter
2025-12-09T09:18:30.0150675Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:30.0151039Z 
2025-12-09T09:18:34.3147181Z [90mstdout[2m | src/concepts/__tests__/query_expander.bench.ts[2m > [22m[2mQuery Expansion Performance Benchmarks[2m > [22m[2mexpandQuery[2m > [22m[2mshould benchmark expansion for short queries
2025-12-09T09:18:34.3151994Z [22m[39mexpandQuery (short): 106.4554ms per call (50 iterations)
2025-12-09T09:18:34.3153925Z 
2025-12-09T09:18:37.8395635Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould handle invalid JSON in related_concepts
2025-12-09T09:18:37.8413934Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:18:37.8414533Z 
2025-12-09T09:18:37.8416116Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould handle invalid JSON in related_concepts
2025-12-09T09:18:37.8417607Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:37.8417950Z 
2025-12-09T09:18:37.8420082Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould handle invalid JSON in related_concepts
2025-12-09T09:18:37.8421564Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:37.8421919Z 
2025-12-09T09:18:41.6637045Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould handle null/undefined related_concepts
2025-12-09T09:18:41.6639195Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:18:41.6640343Z 
2025-12-09T09:18:41.6642042Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould handle null/undefined related_concepts
2025-12-09T09:18:41.6643606Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:41.6643989Z 
2025-12-09T09:18:41.6646127Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould handle null/undefined related_concepts
2025-12-09T09:18:41.6647742Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:41.6648102Z 
2025-12-09T09:18:45.7586890Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould filter thematic concepts by weight threshold
2025-12-09T09:18:45.7589303Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:18:45.7590547Z 
2025-12-09T09:18:45.7593911Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould filter thematic concepts by weight threshold
2025-12-09T09:18:45.7595845Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:45.7596466Z 
2025-12-09T09:18:45.7598342Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould filter thematic concepts by weight threshold
2025-12-09T09:18:45.7600285Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:45.7602943Z 
2025-12-09T09:18:49.8958057Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould filter terminology concepts by weight threshold
2025-12-09T09:18:49.8960353Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:18:49.8961610Z 
2025-12-09T09:18:49.8965207Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould filter terminology concepts by weight threshold
2025-12-09T09:18:49.8966736Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:49.8970946Z 
2025-12-09T09:18:49.8972426Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - corpus expansion edge cases[2m > [22m[2mshould filter terminology concepts by weight threshold
2025-12-09T09:18:49.8974107Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:49.8974404Z 
2025-12-09T09:18:50.4735222Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould return synonyms for a word
2025-12-09T09:18:50.4737005Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:50.4738469Z 
2025-12-09T09:18:50.4741918Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould return synonyms for a word
2025-12-09T09:18:50.4744553Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:50.4744908Z 
2025-12-09T09:18:52.9777494Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould exclude the original word from synonyms
2025-12-09T09:18:52.9779140Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:52.9781056Z 
2025-12-09T09:18:52.9784638Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould exclude the original word from synonyms
2025-12-09T09:18:52.9787454Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:52.9787831Z 
2025-12-09T09:18:54.1085596Z [90mstdout[2m | src/concepts/__tests__/query_expander.bench.ts[2m > [22m[2mQuery Expansion Performance Benchmarks[2m > [22m[2mexpandQuery[2m > [22m[2mshould benchmark expansion for medium queries
2025-12-09T09:18:54.1101729Z [22m[39mexpandQuery (medium): 395.8129ms per call (50 iterations)
2025-12-09T09:18:54.1102550Z 
2025-12-09T09:18:54.2102475Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - related concepts expansion[2m > [22m[2mshould expand related concepts for thematic concepts
2025-12-09T09:18:54.2104550Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:18:54.2105171Z 
2025-12-09T09:18:54.2106873Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - related concepts expansion[2m > [22m[2mshould expand related concepts for thematic concepts
2025-12-09T09:18:54.2108479Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:54.2108846Z 
2025-12-09T09:18:54.2113795Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - related concepts expansion[2m > [22m[2mshould expand related concepts for thematic concepts
2025-12-09T09:18:54.2115428Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:54.2115866Z 
2025-12-09T09:18:55.5848736Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould return empty array for unknown word
2025-12-09T09:18:55.5850517Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:55.5852882Z 
2025-12-09T09:18:55.5854612Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould return empty array for unknown word
2025-12-09T09:18:55.5855972Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:55.5856283Z 
2025-12-09T09:18:58.1078851Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould return lowercase synonyms
2025-12-09T09:18:58.1081034Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:58.1082179Z 
2025-12-09T09:18:58.1088315Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould return lowercase synonyms
2025-12-09T09:18:58.1090396Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:58.1090765Z 
2025-12-09T09:18:58.5381819Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - related concepts expansion[2m > [22m[2mshould limit related concepts to top 4
2025-12-09T09:18:58.5384850Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:18:58.5385520Z 
2025-12-09T09:18:58.5389952Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - related concepts expansion[2m > [22m[2mshould limit related concepts to top 4
2025-12-09T09:18:58.5391976Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:58.5392659Z 
2025-12-09T09:18:58.5394431Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - related concepts expansion[2m > [22m[2mshould limit related concepts to top 4
2025-12-09T09:18:58.5395881Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:18:58.5396232Z 
2025-12-09T09:19:01.1351315Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - related concepts expansion[2m > [22m[2mshould not expand related concepts for terminology
2025-12-09T09:19:01.1353318Z [22m[39mCorpus expansion error: Cannot read properties of undefined (reading 'toLowerCase')
2025-12-09T09:19:01.1353907Z 
2025-12-09T09:19:01.1355977Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - related concepts expansion[2m > [22m[2mshould not expand related concepts for terminology
2025-12-09T09:19:01.1357466Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:01.1357836Z 
2025-12-09T09:19:01.1364001Z [90mstderr[2m | src/concepts/__tests__/query_expander.test.ts[2m > [22m[2mQueryExpander[2m > [22m[2mexpandQuery - related concepts expansion[2m > [22m[2mshould not expand related concepts for terminology
2025-12-09T09:19:01.1370878Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:01.1371241Z 
2025-12-09T09:19:02.1301094Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould deduplicate synonyms
2025-12-09T09:19:02.1311306Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:02.1311884Z 
2025-12-09T09:19:02.1314641Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetSynonyms[2m > [22m[2mshould deduplicate synonyms
2025-12-09T09:19:02.1316092Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:02.1316456Z 
2025-12-09T09:19:04.8196051Z  [31m❯[39m src/concepts/__tests__/query_expander.test.ts [2m([22m[2m31 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[33m 173433[2mms[22m[39m
2025-12-09T09:19:04.8202388Z        [33m[2m✓[22m[39m should extract and normalize terms from query [33m 8821[2mms[22m[39m
2025-12-09T09:19:04.8208130Z        [33m[2m✓[22m[39m should filter out short terms (length <= 2) [33m 8446[2mms[22m[39m
2025-12-09T09:19:04.8209032Z        [33m[2m✓[22m[39m should remove punctuation from terms [33m 9500[2mms[22m[39m
2025-12-09T09:19:04.8210771Z        [33m[2m✓[22m[39m should assign weight 1.0 to original terms [33m 5172[2mms[22m[39m
2025-12-09T09:19:04.8211648Z        [33m[2m✓[22m[39m should return all_terms array [33m 5368[2mms[22m[39m
2025-12-09T09:19:04.8212495Z        [33m[2m✓[22m[39m should include original terms in all_terms [33m 5221[2mms[22m[39m
2025-12-09T09:19:04.8213843Z        [33m[2m✓[22m[39m should search concept table for related concepts [33m 5195[2mms[22m[39m
2025-12-09T09:19:04.8214854Z        [33m[2m✓[22m[39m should add thematic concepts with higher weight threshold [33m 5198[2mms[22m[39m
2025-12-09T09:19:04.8215931Z        [33m[2m✓[22m[39m should add terminology concepts with higher weight threshold [33m 5272[2mms[22m[39m
2025-12-09T09:19:04.8216891Z        [33m[2m✓[22m[39m should apply 80% weight to corpus terms [33m 2643[2mms[22m[39m
2025-12-09T09:19:04.8217799Z        [33m[2m✓[22m[39m should handle corpus expansion errors gracefully [33m 5628[2mms[22m[39m
2025-12-09T09:19:04.8218722Z        [33m[2m✓[22m[39m should limit corpus results to 15 concepts [33m 2735[2mms[22m[39m
2025-12-09T09:19:04.8219805Z        [33m[2m✓[22m[39m should include WordNet terms in expansion [33m 2612[2mms[22m[39m
2025-12-09T09:19:04.8220669Z        [33m[2m✓[22m[39m should apply 60% weight to WordNet terms [33m 2869[2mms[22m[39m
2025-12-09T09:19:04.8221621Z        [33m[2m✓[22m[39m should not duplicate original terms in WordNet terms [33m 6945[2mms[22m[39m
2025-12-09T09:19:04.8222608Z        [33m[2m✓[22m[39m should prioritize original terms over corpus terms [33m 4288[2mms[22m[39m
2025-12-09T09:19:04.8223699Z        [33m[2m✓[22m[39m should use maximum weight when term appears in multiple sources [33m 4384[2mms[22m[39m
2025-12-09T09:19:04.8224653Z        [33m[2m✓[22m[39m should combine all term sources correctly [33m 8486[2mms[22m[39m
2025-12-09T09:19:04.8225390Z        [32m✓[39m should handle empty query[32m 1[2mms[22m[39m
2025-12-09T09:19:04.8226099Z        [32m✓[39m should handle query with only short words[32m 0[2mms[22m[39m
2025-12-09T09:19:04.8227141Z        [32m✓[39m should handle query with only punctuation[32m 0[2mms[22m[39m
2025-12-09T09:19:04.8228024Z [31m       [31m×[31m should handle very long query[39m[33m 30012[2mms[22m[39m
2025-12-09T09:19:04.8228906Z        [33m[2m✓[22m[39m should handle special characters in query [33m 9371[2mms[22m[39m
2025-12-09T09:19:04.8229919Z        [33m[2m✓[22m[39m should handle empty corpus results [33m 8281[2mms[22m[39m
2025-12-09T09:19:04.8230790Z        [33m[2m✓[22m[39m should handle invalid JSON in related_concepts [33m 3823[2mms[22m[39m
2025-12-09T09:19:04.8231709Z        [33m[2m✓[22m[39m should handle null/undefined related_concepts [33m 4096[2mms[22m[39m
2025-12-09T09:19:04.8232666Z        [33m[2m✓[22m[39m should filter thematic concepts by weight threshold [33m 4137[2mms[22m[39m
2025-12-09T09:19:04.8233720Z        [33m[2m✓[22m[39m should filter terminology concepts by weight threshold [33m 4312[2mms[22m[39m
2025-12-09T09:19:04.8234856Z        [33m[2m✓[22m[39m should expand related concepts for thematic concepts [33m 4330[2mms[22m[39m
2025-12-09T09:19:04.8235772Z        [33m[2m✓[22m[39m should limit related concepts to top 4 [33m 2597[2mms[22m[39m
2025-12-09T09:19:04.8236702Z        [33m[2m✓[22m[39m should not expand related concepts for terminology [33m 3683[2mms[22m[39m
2025-12-09T09:19:05.0413551Z [90mstderr[2m | src/tools/operations/__tests__/concept-search.test.ts[2m > [22m[2mConceptSearchTool[2m > [22m[2mexecute[2m > [22m[2mshould find chunks by concept name
2025-12-09T09:19:05.0416270Z [22m[39m🔍 Hierarchical concept search: "innovation"
2025-12-09T09:19:05.0416626Z 
2025-12-09T09:19:05.0427267Z [90mstderr[2m | src/tools/operations/__tests__/concept-search.test.ts[2m > [22m[2mConceptSearchTool[2m > [22m[2mexecute[2m > [22m[2mshould find chunks by concept name
2025-12-09T09:19:05.0429239Z [22m[39m✅ Found: 1 documents, 0 chunks across 1 sources
2025-12-09T09:19:05.0430136Z 
2025-12-09T09:19:05.0464446Z [90mstderr[2m | src/tools/operations/__tests__/concept-search.test.ts[2m > [22m[2mConceptSearchTool[2m > [22m[2mexecute[2m > [22m[2mshould return empty result when concept not found
2025-12-09T09:19:05.0466542Z [22m[39m🔍 Hierarchical concept search: "nonexistent"
2025-12-09T09:19:05.0467960Z 
2025-12-09T09:19:05.0470886Z [90mstderr[2m | src/tools/operations/__tests__/concept-search.test.ts[2m > [22m[2mConceptSearchTool[2m > [22m[2mexecute[2m > [22m[2mshould return empty result when concept not found
2025-12-09T09:19:05.0472351Z [22m[39m✅ Found: 0 documents, 0 chunks across 0 sources
2025-12-09T09:19:05.0473295Z 
2025-12-09T09:19:05.0544868Z  [32m✓[39m src/tools/operations/__tests__/concept-search.test.ts [2m([22m[2m4 tests[22m[2m)[22m[32m 13[2mms[22m[39m
2025-12-09T09:19:05.3709126Z  [32m✓[39m src/infrastructure/ocr/__tests__/tesseract-ocr.test.ts [2m([22m[2m10 tests[22m[2m)[22m[32m 9[2mms[22m[39m
2025-12-09T09:19:05.5128398Z  [32m✓[39m src/infrastructure/embeddings/__tests__/simple-embedding-service.test.ts [2m([22m[2m9 tests[22m[2m)[22m[32m 8[2mms[22m[39m
2025-12-09T09:19:05.6847201Z [90mstderr[2m | src/infrastructure/seeding/__tests__/seeding.test.ts[2m > [22m[2mfindDocumentFilesRecursively[2m > [22m[2mshould handle non-existent directory
2025-12-09T09:19:05.6849678Z [22m[39m⚠️ Error scanning directory /nonexistent/path: ENOENT: no such file or directory, scandir '/nonexistent/path'
2025-12-09T09:19:05.6850681Z 
2025-12-09T09:19:05.6891912Z  [32m✓[39m src/infrastructure/seeding/__tests__/seeding.test.ts [2m([22m[2m15 tests[22m[2m)[22m[32m 21[2mms[22m[39m
2025-12-09T09:19:06.0139312Z [90mstderr[2m | src/__tests__/integration/resilience-integration.test.ts[2m > [22m[2mResilience Integration Tests[2m > [22m[2mApplicationContainer Integration[2m > [22m[2mshould inject ResilientExecutor into services
2025-12-09T09:19:06.0141647Z [22m[39m🏗️  Initializing application container...
2025-12-09T09:19:06.0143264Z ✅ Resilience infrastructure initialized (circuit breaker, bulkhead, timeout)
2025-12-09T09:19:06.0144096Z Connecting to database: ./db/test
2025-12-09T09:19:06.0145800Z 
2025-12-09T09:19:06.0158059Z [90mstderr[2m | src/__tests__/integration/resilience-integration.test.ts[2m > [22m[2mResilience Integration Tests[2m > [22m[2mApplicationContainer Integration[2m > [22m[2mshould inject ResilientExecutor into services
2025-12-09T09:19:06.0160163Z [22m[39mOperation failed (attempt 1/2), retrying in 100ms: Failed to open table "chunks"
2025-12-09T09:19:06.0161731Z 
2025-12-09T09:19:06.1290308Z [90mstderr[2m | src/__tests__/integration/resilience-integration.test.ts[2m > [22m[2mResilience Integration Tests[2m > [22m[2mLanceDBConnection Integration[2m > [22m[2mshould accept ResilientExecutor in connect
2025-12-09T09:19:06.1292081Z [22m[39mConnecting to database: test_db
2025-12-09T09:19:06.1292430Z 
2025-12-09T09:19:06.1300348Z [90mstderr[2m | src/__tests__/integration/resilience-integration.test.ts[2m > [22m[2mResilience Integration Tests[2m > [22m[2mLanceDBConnection Integration[2m > [22m[2mshould accept ResilientExecutor in connect
2025-12-09T09:19:06.1307360Z [22m[39m🛑 Database connection closed
2025-12-09T09:19:06.1307733Z 
2025-12-09T09:19:06.1320159Z  [31m❯[39m src/__tests__/integration/resilience-integration.test.ts [2m([22m[2m6 tests[22m[2m | [22m[31m1 failed[39m[2m)[22m[32m 120[2mms[22m[39m
2025-12-09T09:19:06.1322195Z        [32m✓[39m should create ResilientExecutor and RetryService before database connection[32m 1[2mms[22m[39m
2025-12-09T09:19:06.1325119Z [31m       [31m×[31m should inject ResilientExecutor into services[39m[32m 110[2mms[22m[39m
2025-12-09T09:19:06.1326147Z        [32m✓[39m should use ResilientExecutor when provided[32m 1[2mms[22m[39m
2025-12-09T09:19:06.1327248Z        [32m✓[39m should work without ResilientExecutor (backward compatible)[32m 0[2mms[22m[39m
2025-12-09T09:19:06.1328302Z        [32m✓[39m should accept ResilientExecutor in connect[32m 5[2mms[22m[39m
2025-12-09T09:19:06.1329235Z        [32m✓[39m should confirm all integration points exist[32m 0[2mms[22m[39m
2025-12-09T09:19:06.1463798Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould return synonyms, broader, and narrower terms
2025-12-09T09:19:06.1465998Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:06.1466398Z 
2025-12-09T09:19:06.1468131Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould return synonyms, broader, and narrower terms
2025-12-09T09:19:06.1469943Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:06.1470323Z 
2025-12-09T09:19:06.1477634Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould return synonyms, broader, and narrower terms
2025-12-09T09:19:06.1479798Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:06.1480371Z 
2025-12-09T09:19:06.1537160Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould return synonyms, broader, and narrower terms
2025-12-09T09:19:06.1538817Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:06.1539203Z 
2025-12-09T09:19:06.3498429Z [90mstdout[2m | src/infrastructure/embeddings/__tests__/simple-embedding-service.bench.ts[2m > [22m[2mEmbedding Generation Performance Benchmarks[2m > [22m[2mgenerateEmbedding[2m > [22m[2mshould benchmark embedding generation for short text
2025-12-09T09:19:06.3501053Z [22m[39mgenerateEmbedding (short): 0.0768ms per call (100 iterations)
2025-12-09T09:19:06.3501679Z 
2025-12-09T09:19:06.3639982Z [90mstdout[2m | src/infrastructure/embeddings/__tests__/simple-embedding-service.bench.ts[2m > [22m[2mEmbedding Generation Performance Benchmarks[2m > [22m[2mgenerateEmbedding[2m > [22m[2mshould benchmark embedding generation for medium text
2025-12-09T09:19:06.3660874Z [22m[39mgenerateEmbedding (medium): 0.1250ms per call (100 iterations)
2025-12-09T09:19:06.3661411Z 
2025-12-09T09:19:06.3823185Z [90mstdout[2m | src/infrastructure/embeddings/__tests__/simple-embedding-service.bench.ts[2m > [22m[2mEmbedding Generation Performance Benchmarks[2m > [22m[2mgenerateEmbedding[2m > [22m[2mshould benchmark embedding generation for long text
2025-12-09T09:19:06.3825138Z [22m[39mgenerateEmbedding (long): 0.1514ms per call (100 iterations)
2025-12-09T09:19:06.3825843Z 
2025-12-09T09:19:06.3846407Z [90mstdout[2m | src/infrastructure/embeddings/__tests__/simple-embedding-service.bench.ts[2m > [22m[2mEmbedding Generation Performance Benchmarks[2m > [22m[2mgenerateEmbedding[2m > [22m[2mshould benchmark batch embedding generation
2025-12-09T09:19:06.3848533Z [22m[39mBatch embedding generation: 0.0113ms per call (100 total embeddings)
2025-12-09T09:19:06.3849079Z 
2025-12-09T09:19:06.3896430Z  [32m✓[39m src/infrastructure/embeddings/__tests__/simple-embedding-service.bench.ts [2m([22m[2m5 tests[22m[2m)[22m[32m 50[2mms[22m[39m
2025-12-09T09:19:06.6891428Z  [32m✓[39m src/tools/operations/__tests__/list-concepts-in-category.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 9[2mms[22m[39m
2025-12-09T09:19:07.1516389Z  [32m✓[39m src/tools/operations/__tests__/list-categories.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 9[2mms[22m[39m
2025-12-09T09:19:10.7017251Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould return empty arrays for unknown word
2025-12-09T09:19:10.7018854Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:10.7019246Z 
2025-12-09T09:19:10.7021760Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould return empty arrays for unknown word
2025-12-09T09:19:10.7023669Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:10.7024029Z 
2025-12-09T09:19:10.7042180Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould return empty arrays for unknown word
2025-12-09T09:19:10.7043992Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:10.7044603Z 
2025-12-09T09:19:10.7077470Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould return empty arrays for unknown word
2025-12-09T09:19:10.7079319Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:10.7109974Z 
2025-12-09T09:19:15.0174155Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould execute queries in parallel
2025-12-09T09:19:15.0175778Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:15.0176138Z 
2025-12-09T09:19:15.0177662Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould execute queries in parallel
2025-12-09T09:19:15.0178570Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:15.0178800Z 
2025-12-09T09:19:15.0198273Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould execute queries in parallel
2025-12-09T09:19:15.0200791Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:15.0201422Z 
2025-12-09T09:19:15.0240440Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mgetAllRelatedTerms[2m > [22m[2mshould execute queries in parallel
2025-12-09T09:19:15.0270400Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:15.0271434Z 
2025-12-09T09:19:17.7427997Z [90mstdout[2m | src/concepts/__tests__/query_expander.bench.ts[2m > [22m[2mQuery Expansion Performance Benchmarks[2m > [22m[2mexpandQuery[2m > [22m[2mshould benchmark expansion for long queries
2025-12-09T09:19:17.7431193Z [22m[39mexpandQuery (long): 472.7034ms per call (50 iterations)
2025-12-09T09:19:17.7431660Z 
2025-12-09T09:19:19.5265765Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mfindHierarchyPath[2m > [22m[2mshould find path between related terms
2025-12-09T09:19:19.5266932Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:19.5267160Z 
2025-12-09T09:19:19.5268059Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mfindHierarchyPath[2m > [22m[2mshould find path between related terms
2025-12-09T09:19:19.5268905Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:19.5269105Z 
2025-12-09T09:19:24.6827263Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mfindHierarchyPath[2m > [22m[2mshould return undefined for unrelated terms with short max depth
2025-12-09T09:19:24.6829012Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:24.6829579Z 
2025-12-09T09:19:24.6831321Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mfindHierarchyPath[2m > [22m[2mshould return undefined for unrelated terms with short max depth
2025-12-09T09:19:24.6832490Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:24.6832741Z 
2025-12-09T09:19:26.1016550Z [90mstdout[2m | src/concepts/__tests__/query_expander.bench.ts[2m > [22m[2mQuery Expansion Performance Benchmarks[2m > [22m[2mexpandQuery[2m > [22m[2mshould benchmark expansion with special characters
2025-12-09T09:19:26.1021052Z [22m[39mexpandQuery (special chars): 167.1474ms per call (50 iterations)
2025-12-09T09:19:26.1028492Z 
2025-12-09T09:19:26.1090558Z [90mstderr[2m | src/concepts/__tests__/query_expander.bench.ts[2m > [22m[2mQuery Expansion Performance Benchmarks
2025-12-09T09:19:26.1091697Z [22m[39m🛑 Database connection closed
2025-12-09T09:19:26.1092009Z 
2025-12-09T09:19:26.1128838Z  [32m✓[39m src/concepts/__tests__/query_expander.bench.ts [2m([22m[2m5 tests[22m[2m)[22m[33m 57167[2mms[22m[39m
2025-12-09T09:19:26.1130523Z        [33m[2m✓[22m[39m should benchmark expansion for short queries [33m 5325[2mms[22m[39m
2025-12-09T09:19:26.1132913Z        [33m[2m✓[22m[39m should benchmark expansion for medium queries [33m 19791[2mms[22m[39m
2025-12-09T09:19:26.1134197Z        [33m[2m✓[22m[39m should benchmark expansion for long queries [33m 23636[2mms[22m[39m
2025-12-09T09:19:26.1135420Z        [33m[2m✓[22m[39m should benchmark expansion with special characters [33m 8358[2mms[22m[39m
2025-12-09T09:19:27.2690943Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mfindHierarchyPath[2m > [22m[2mshould respect maxDepth parameter
2025-12-09T09:19:27.2692527Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:27.2692884Z 
2025-12-09T09:19:27.2694411Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mfindHierarchyPath[2m > [22m[2mshould respect maxDepth parameter
2025-12-09T09:19:27.2695846Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:27.2696173Z 
2025-12-09T09:19:27.2697945Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mfindHierarchyPath[2m > [22m[2mshould respect maxDepth parameter
2025-12-09T09:19:27.2699315Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:19:27.2699849Z 
2025-12-09T09:20:19.0491367Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mfindHierarchyPath[2m > [22m[2mshould handle unknown terms
2025-12-09T09:20:19.0492921Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:20:19.0493286Z 
2025-12-09T09:20:19.0494783Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mfindHierarchyPath[2m > [22m[2mshould handle unknown terms
2025-12-09T09:20:19.0496120Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:20:19.0496418Z 
2025-12-09T09:20:21.6730253Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mintegration scenarios[2m > [22m[2mshould support concept exploration workflow
2025-12-09T09:20:21.6732000Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:20:21.6732382Z 
2025-12-09T09:20:21.6733984Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mintegration scenarios[2m > [22m[2mshould support concept exploration workflow
2025-12-09T09:20:21.6735347Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:20:21.6735683Z 
2025-12-09T09:20:21.6750226Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mintegration scenarios[2m > [22m[2mshould support concept exploration workflow
2025-12-09T09:20:21.6751781Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:20:21.6752143Z 
2025-12-09T09:20:21.6767821Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mintegration scenarios[2m > [22m[2mshould support concept exploration workflow
2025-12-09T09:20:21.6770871Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:20:21.6771247Z 
2025-12-09T09:20:25.3895465Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mintegration scenarios[2m > [22m[2mshould support hierarchical search expansion
2025-12-09T09:20:25.3897405Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:20:25.3897814Z 
2025-12-09T09:20:25.3899697Z [90mstderr[2m | src/wordnet/__tests__/hierarchy-navigation.test.ts[2m > [22m[2mWordNet Hierarchy Navigation[2m > [22m[2mintegration scenarios[2m > [22m[2mshould support hierarchical search expansion
2025-12-09T09:20:25.3901201Z [22m[39m📚 No WordNet cache found, starting fresh
2025-12-09T09:20:25.3901556Z 
2025-12-09T09:20:27.8080279Z  [32m✓[39m src/wordnet/__tests__/hierarchy-navigation.test.ts [2m([22m[2m24 tests[22m[2m)[22m[33m 182334[2mms[22m[39m
2025-12-09T09:20:27.8081590Z        [33m[2m✓[22m[39m should return hypernyms for a word [33m 2786[2mms[22m[39m
2025-12-09T09:20:27.8082647Z        [33m[2m✓[22m[39m should return empty array for unknown word [33m 4190[2mms[22m[39m
2025-12-09T09:20:27.8083608Z        [33m[2m✓[22m[39m should return lowercase terms [33m 4223[2mms[22m[39m
2025-12-09T09:20:27.8084529Z        [33m[2m✓[22m[39m should support depth parameter [33m 41473[2mms[22m[39m
2025-12-09T09:20:27.8085432Z        [33m[2m✓[22m[39m should deduplicate results [33m 2696[2mms[22m[39m
2025-12-09T09:20:27.8086352Z        [33m[2m✓[22m[39m should return hyponyms for a word [33m 3469[2mms[22m[39m
2025-12-09T09:20:27.8087166Z        [33m[2m✓[22m[39m should return empty array for unknown word [33m 2438[2mms[22m[39m
2025-12-09T09:20:27.8088115Z        [33m[2m✓[22m[39m should return lowercase terms [33m 3259[2mms[22m[39m
2025-12-09T09:20:27.8088700Z        [33m[2m✓[22m[39m should support depth parameter [33m 20461[2mms[22m[39m
2025-12-09T09:20:27.8089265Z        [33m[2m✓[22m[39m should return synonyms for a word [33m 2504[2mms[22m[39m
2025-12-09T09:20:27.8090199Z        [33m[2m✓[22m[39m should exclude the original word from synonyms [33m 2607[2mms[22m[39m
2025-12-09T09:20:27.8090852Z        [33m[2m✓[22m[39m should return empty array for unknown word [33m 2523[2mms[22m[39m
2025-12-09T09:20:27.8091435Z        [33m[2m✓[22m[39m should return lowercase synonyms [33m 4022[2mms[22m[39m
2025-12-09T09:20:27.8091969Z        [33m[2m✓[22m[39m should deduplicate synonyms [33m 4015[2mms[22m[39m
2025-12-09T09:20:27.8092568Z        [33m[2m✓[22m[39m should return synonyms, broader, and narrower terms [33m 4557[2mms[22m[39m
2025-12-09T09:20:27.8093207Z        [33m[2m✓[22m[39m should return empty arrays for unknown word [33m 4315[2mms[22m[39m
2025-12-09T09:20:27.8093785Z        [33m[2m✓[22m[39m should execute queries in parallel [33m 4509[2mms[22m[39m
2025-12-09T09:20:27.8094357Z        [33m[2m✓[22m[39m should find path between related terms [33m 5156[2mms[22m[39m
2025-12-09T09:20:27.8095052Z        [33m[2m✓[22m[39m should return undefined for unrelated terms with short max depth [33m 2586[2mms[22m[39m
2025-12-09T09:20:27.8095711Z        [33m[2m✓[22m[39m should respect maxDepth parameter [33m 51780[2mms[22m[39m
2025-12-09T09:20:27.8096275Z        [33m[2m✓[22m[39m should handle unknown terms [33m 2623[2mms[22m[39m
2025-12-09T09:20:27.8096959Z        [33m[2m✓[22m[39m should support concept exploration workflow [33m 3717[2mms[22m[39m
2025-12-09T09:20:27.8097737Z        [33m[2m✓[22m[39m should support hierarchical search expansion [33m 2418[2mms[22m[39m
2025-12-09T09:20:27.8145011Z 
2025-12-09T09:20:27.8145540Z [31m⎯⎯⎯⎯⎯⎯[39m[1m[41m Failed Suites 1 [49m[22m[31m⎯⎯⎯⎯⎯⎯⎯[39m
2025-12-09T09:20:27.8145823Z 
2025-12-09T09:20:27.8148514Z [41m[1m FAIL [22m[49m src/__tests__/e2e/cache-performance.e2e.test.ts[2m > [22mCache Performance E2E Tests
2025-12-09T09:20:27.8154519Z [31m[1mDatabaseError[22m: Failed to open table "chunks"[39m
2025-12-09T09:20:27.8156308Z [36m [2m❯[22m LanceDBConnection.performOpenTable src/infrastructure/lancedb/database-connection.ts:[2m79:13[22m[39m
2025-12-09T09:20:27.8190570Z     [90m 77| [39m      [35mreturn[39m [35mthis[39m[33m.[39mtables[33m.[39m[35mget[39m(tableName)[33m![39m[33m;[39m
2025-12-09T09:20:27.8191491Z     [90m 78| [39m    } [35mcatch[39m (error) {
2025-12-09T09:20:27.8192089Z     [90m 79| [39m      [35mthrow[39m [35mnew[39m [33mDatabaseError[39m(
2025-12-09T09:20:27.8192494Z     [90m   | [39m            [31m^[39m
2025-12-09T09:20:27.8193039Z     [90m 80| [39m        [32m`Failed to open table "[39m[36m${[39mtableName[36m}[39m[32m"`[39m[33m,[39m
2025-12-09T09:20:27.8193822Z     [90m 81| [39m        [32m'open_table'[39m[33m,[39m
2025-12-09T09:20:27.8194531Z [90m [2m❯[22m Bulkhead.execute src/infrastructure/resilience/bulkhead.ts:[2m173:22[22m[39m
2025-12-09T09:20:27.8195945Z [90m [2m❯[22m RetryService.executeWithRetry src/infrastructure/utils/retry-service.ts:[2m75:16[22m[39m
2025-12-09T09:20:27.8197012Z [90m [2m❯[22m ApplicationContainer.initialize src/application/container.ts:[2m126:25[22m[39m
2025-12-09T09:20:27.8197726Z [90m [2m❯[22m src/__tests__/e2e/cache-performance.e2e.test.ts:[2m23:5[22m[39m
2025-12-09T09:20:27.8198150Z 
2025-12-09T09:20:27.8198560Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/3]⎯[22m[39m
2025-12-09T09:20:27.8198845Z 
2025-12-09T09:20:27.8198854Z 
2025-12-09T09:20:27.8199341Z [31m⎯⎯⎯⎯⎯⎯⎯[39m[1m[41m Failed Tests 2 [49m[22m[31m⎯⎯⎯⎯⎯⎯⎯[39m
2025-12-09T09:20:27.8199894Z 
2025-12-09T09:20:27.8201372Z [41m[1m FAIL [22m[49m src/__tests__/integration/resilience-integration.test.ts[2m > [22mResilience Integration Tests[2m > [22mApplicationContainer Integration[2m > [22mshould inject ResilientExecutor into services
2025-12-09T09:20:27.8202385Z [31m[1mDatabaseError[22m: Failed to open table "chunks"[39m
2025-12-09T09:20:27.8203196Z [36m [2m❯[22m LanceDBConnection.performOpenTable src/infrastructure/lancedb/database-connection.ts:[2m79:13[22m[39m
2025-12-09T09:20:27.8204385Z     [90m 77| [39m      [35mreturn[39m [35mthis[39m[33m.[39mtables[33m.[39m[35mget[39m(tableName)[33m![39m[33m;[39m
2025-12-09T09:20:27.8205071Z     [90m 78| [39m    } [35mcatch[39m (error) {
2025-12-09T09:20:27.8205514Z     [90m 79| [39m      [35mthrow[39m [35mnew[39m [33mDatabaseError[39m(
2025-12-09T09:20:27.8205895Z     [90m   | [39m            [31m^[39m
2025-12-09T09:20:27.8206422Z     [90m 80| [39m        [32m`Failed to open table "[39m[36m${[39mtableName[36m}[39m[32m"`[39m[33m,[39m
2025-12-09T09:20:27.8206919Z     [90m 81| [39m        [32m'open_table'[39m[33m,[39m
2025-12-09T09:20:27.8207547Z [90m [2m❯[22m Bulkhead.execute src/infrastructure/resilience/bulkhead.ts:[2m173:22[22m[39m
2025-12-09T09:20:27.8208353Z [90m [2m❯[22m RetryService.executeWithRetry src/infrastructure/utils/retry-service.ts:[2m75:16[22m[39m
2025-12-09T09:20:27.8209153Z [90m [2m❯[22m ApplicationContainer.initialize src/application/container.ts:[2m126:25[22m[39m
2025-12-09T09:20:27.8210337Z [90m [2m❯[22m src/__tests__/integration/resilience-integration.test.ts:[2m28:7[22m[39m
2025-12-09T09:20:27.8210745Z 
2025-12-09T09:20:27.8211017Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/3]⎯[22m[39m
2025-12-09T09:20:27.8211210Z 
2025-12-09T09:20:27.8211938Z [41m[1m FAIL [22m[49m src/concepts/__tests__/query_expander.test.ts[2m > [22mQueryExpander[2m > [22mexpandQuery - edge cases[2m > [22mshould handle very long query
2025-12-09T09:20:27.8212655Z [31m[1mError[22m: Test timed out in 30000ms.
2025-12-09T09:20:27.8213402Z If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".[39m
2025-12-09T09:20:27.8214144Z [36m [2m❯[22m src/concepts/__tests__/query_expander.test.ts:[2m504:5[22m[39m
2025-12-09T09:20:27.8269051Z     [90m502| [39m    })[33m;[39m
2025-12-09T09:20:27.8270397Z     [90m503| [39m
2025-12-09T09:20:27.8271765Z     [90m504| [39m    [34mit[39m([32m'should handle very long query'[39m[33m,[39m [35masync[39m () [33m=>[39m {
2025-12-09T09:20:27.8272897Z     [90m   | [39m    [31m^[39m
2025-12-09T09:20:27.8273681Z     [90m505| [39m      [90m// SETUP[39m
2025-12-09T09:20:27.8275056Z     [90m506| [39m      mockConceptTable[33m.[39m[34msetResults[39m([])[33m;[39m
2025-12-09T09:20:27.8289907Z 
2025-12-09T09:20:27.8289928Z 
2025-12-09T09:20:27.8290761Z [2m Test Files [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m77 passed[39m[22m[90m (80)[39m
2025-12-09T09:20:27.8292059Z [31m[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/3]⎯[22m[39m
2025-12-09T09:20:27.8293366Z [2m      Tests [22m [1m[31m2 failed[39m[22m[2m | [22m[1m[32m1301 passed[39m[22m[2m | [22m[33m12 skipped[39m[90m (1315)[39m
2025-12-09T09:20:27.8294448Z [2m   Start at [22m 09:16:10
2025-12-09T09:20:27.8294852Z 
2025-12-09T09:20:27.8296363Z [2m   Duration [22m 256.85s[2m (transform 2.24s, setup 0ms, collect 9.77s, tests 602.16s, environment 16ms, prepare 1.19s)[22m
2025-12-09T09:20:27.8297183Z 
2025-12-09T09:20:27.8359881Z 
2025-12-09T09:20:27.8395098Z ##[error]DatabaseError: Failed to open table "chunks"
 ❯ LanceDBConnection.performOpenTable src/infrastructure/lancedb/database-connection.ts:79:13
 ❯ Bulkhead.execute src/infrastructure/resilience/bulkhead.ts:173:22
 ❯ RetryService.executeWithRetry src/infrastructure/utils/retry-service.ts:75:16
 ❯ ApplicationContainer.initialize src/application/container.ts:126:25
 ❯ src/__tests__/e2e/cache-performance.e2e.test.ts:23:5

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯
Serialized Error: { code: 'DATABASE_OPEN_TABLE_FAILED', context: { operation: 'open_table' }, timestamp: '2025-12-09T09:16:43.241Z' }

2025-12-09T09:20:27.8408115Z 
2025-12-09T09:20:27.8416270Z ##[error]DatabaseError: Failed to open table "chunks"
 ❯ LanceDBConnection.performOpenTable src/infrastructure/lancedb/database-connection.ts:79:13
 ❯ Bulkhead.execute src/infrastructure/resilience/bulkhead.ts:173:22
 ❯ RetryService.executeWithRetry src/infrastructure/utils/retry-service.ts:75:16
 ❯ ApplicationContainer.initialize src/application/container.ts:126:25
 ❯ src/__tests__/integration/resilience-integration.test.ts:28:7

⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯
Serialized Error: { code: 'DATABASE_OPEN_TABLE_FAILED', context: { operation: 'open_table' }, timestamp: '2025-12-09T09:19:06.115Z' }

2025-12-09T09:20:27.8420542Z 
2025-12-09T09:20:27.8423353Z ##[error]Error: Test timed out in 30000ms.
If this is a long-running test, pass a timeout value as the last argument or configure it globally with "testTimeout".
 ❯ src/concepts/__tests__/query_expander.test.ts:504:5


2025-12-09T09:20:27.8669954Z ##[error]Process completed with exit code 1.
2025-12-09T09:20:27.8746578Z Post job cleanup.
2025-12-09T09:20:27.9678987Z [command]/usr/bin/git version
2025-12-09T09:20:27.9721397Z git version 2.52.0
2025-12-09T09:20:27.9763480Z Temporarily overriding HOME='/home/runner/work/_temp/d96ca893-c5fc-4b8f-be89-80fd9b6392e9' before making global git config changes
2025-12-09T09:20:27.9765144Z Adding repository directory to the temporary git global config as a safe directory
2025-12-09T09:20:27.9768663Z [command]/usr/bin/git config --global --add safe.directory /home/runner/work/concept-rag/concept-rag
2025-12-09T09:20:27.9802784Z [command]/usr/bin/git config --local --name-only --get-regexp core\.sshCommand
2025-12-09T09:20:27.9834748Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'core\.sshCommand' && git config --local --unset-all 'core.sshCommand' || :"
2025-12-09T09:20:28.0075458Z [command]/usr/bin/git config --local --name-only --get-regexp http\.https\:\/\/github\.com\/\.extraheader
2025-12-09T09:20:28.0096230Z http.https://github.com/.extraheader
2025-12-09T09:20:28.0108341Z [command]/usr/bin/git config --local --unset-all http.https://github.com/.extraheader
2025-12-09T09:20:28.0137761Z [command]/usr/bin/git submodule foreach --recursive sh -c "git config --local --name-only --get-regexp 'http\.https\:\/\/github\.com\/\.extraheader' && git config --local --unset-all 'http.https://github.com/.extraheader' || :"
2025-12-09T09:20:28.0357862Z [command]/usr/bin/git config --local --name-only --get-regexp ^includeIf\.gitdir:
2025-12-09T09:20:28.0388378Z [command]/usr/bin/git submodule foreach --recursive git config --local --show-origin --name-only --get-regexp remote.origin.url
2025-12-09T09:20:28.0726482Z Cleaning up orphan processes
